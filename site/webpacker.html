<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Webpacker — Ruby on Rails Guides</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/style.css" data-turbolinks-track="reload">
  <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
  <link rel="stylesheet" type="text/css" href="stylesheets/highlight.css" data-turbolinks-track="reload">
  <link rel="stylesheet" type="text/css" href="stylesheets/search.css" data-turbolinks-track="reload">
  <link href="images/favicon.ico" rel="icon" type="image/x-icon" />
  <script src="javascripts/turbolinks.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/clipboard.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/guides.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/search.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/lunr-documents.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/lunr.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/toggle-theme.js" data-turbolinks-track="reload"></script>
  <meta property="og:title" content="Webpacker — Ruby on Rails Guides" />
  <meta name="description" content="WebpackerEsse guia irá mostrar como instalar e usar o Webpacker para empacotar JavaScript, CSS e outros assets para a lado cliente da sua aplicação Rails mas por favor note que o Webpacker foi aposentado.Depois de ler esse guia, você saberá: O que o Webpacker faz e o como ele é diferente do Sprockets. Como instalar o Webpacker e integrar com seu framework de escolha. Como usar o Webpacker para assets JavaScript. Como usar o Webpacker para assets CSS. Como usar o Webpacker para assets estáticos. Como fazer deploy de uma aplicação que usa Webpacker. Como usar o Webpacker em contextos Rails alternativos, como engines ou containers Docker." />
  <meta property="og:description" content="WebpackerEsse guia irá mostrar como instalar e usar o Webpacker para empacotar JavaScript, CSS e outros assets para a lado cliente da sua aplicação Rails mas por favor note que o Webpacker foi aposentado.Depois de ler esse guia, você saberá: O que o Webpacker faz e o como ele é diferente do Sprockets. Como instalar o Webpacker e integrar com seu framework de escolha. Como usar o Webpacker para assets JavaScript. Como usar o Webpacker para assets CSS. Como usar o Webpacker para assets estáticos. Como fazer deploy de uma aplicação que usa Webpacker. Como usar o Webpacker em contextos Rails alternativos, como engines ou containers Docker." />
  <meta property="og:locale" content="pt_BR" />
  <meta property="og:site_name" content="Guia Ruby on Rails" />
  <meta property="og:image" content="https://avatars.githubusercontent.com/u/4223" />
  <meta property="og:type" content="website" />
</head>
<body class="guide">
  <div>
    <div id="version-badge">v7.0.8</div>
  </div>
  <div id="topNav">
    <div class="wrapper">
      <strong class="more-info-label">Veja mais em <a href="https://rubyonrails.org/">rubyonrails.org:</a> </strong>
      <span class="red-button more-info-button">
        Mais Ruby on Rails
      </span>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="https://rubyonrails.org/blog">Blog</a></li>
        <li class="more-info"><a href="https://guides.rubyonrails.org/">Guia oficial</a></li>
        <li class="more-info"><a href="https://api.rubyonrails.org/">API</a></li>
        <li class="more-info"><a href="https://discuss.rubyonrails.org/">Forum</a></li>
        <li class="more-info"><a href="https://github.com/rails/rails">Contribua no GitHub</a></li>
      </ul>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="index.html" title="Voltar para a página principal">Guiarails.com.br</a></h1>
      <ul class="nav">
        <li><a class="nav-item" href="index.html">Home</a></li>
        <li class="guides-search guides-search-large">
          <input class="search-box search-box-large nav-item" type="text" placeholder="Digite o termo...">
          <div class="search-results"></div>
          <div class="search-spinner">Aguarde...</div>
        </li>
        <li class="guides-index guides-index-large">
          <a href="index.html" id="guidesMenu" class="guides-index-item nav-item">Guias</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
            <dl class="guides-section-container">
                <div class="guides-section">
                  <dt>Comece aqui</dt>
                  <dd><a href="getting_started.html">Começando com Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Models</dt>
                  <dd><a href="active_record_basics.html">Active Record Basics</a></dd>
                  <dd><a href="active_record_migrations.html">Active Record Migrations</a></dd>
                  <dd><a href="active_record_validations.html">Active Record Validations</a></dd>
                  <dd><a href="active_record_callbacks.html">Active Record Callbacks</a></dd>
                  <dd><a href="association_basics.html">Active Record Associations</a></dd>
                  <dd><a href="active_record_querying.html">Active Record Query Interface</a></dd>
                  <dd><a href="active_model_basics.html">Active Model Basics</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Views</dt>
                  <dd><a href="action_view_overview.html">Action View Overview</a></dd>
                  <dd><a href="layouts_and_rendering.html">Layouts and Rendering in Rails</a></dd>
                  <dd><a href="action_view_helpers.html">Action View Helpers</a></dd>
                  <dd><a href="form_helpers.html">Action View Form Helpers</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Controllers</dt>
                  <dd><a href="action_controller_overview.html">Action Controller Overview</a></dd>
                  <dd><a href="routing.html">Rails Routing from the Outside In</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Outros componentes</dt>
                  <dd><a href="active_support_core_extensions.html">Active Support Core Extensions</a></dd>
                  <dd><a href="action_mailer_basics.html">Action Mailer Basics</a></dd>
                  <dd><a href="action_mailbox_basics.html">Action Mailbox Basics</a></dd>
                  <dd><a href="action_text_overview.html">Action Text Overview</a></dd>
                  <dd><a href="active_job_basics.html">Active Job Basics</a></dd>
                  <dd><a href="active_storage_overview.html">Active Storage Overview</a></dd>
                  <dd><a href="action_cable_overview.html">Action Cable Overview</a></dd>
                  <dd><a href="webpacker.html">Webpacker</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Indo mais fundo</dt>
                  <dd><a href="i18n.html">Rails Internationalization (I18n) API</a></dd>
                  <dd><a href="testing.html">Testing Rails Applications</a></dd>
                  <dd><a href="security.html">Securing Rails Applications</a></dd>
                  <dd><a href="debugging_rails_applications.html">Debugging Rails Applications</a></dd>
                  <dd><a href="configuring.html">Configuring Rails Applications</a></dd>
                  <dd><a href="command_line.html">The Rails Command Line</a></dd>
                  <dd><a href="asset_pipeline.html">The Asset Pipeline</a></dd>
                  <dd><a href="working_with_javascript_in_rails.html">Working with JavaScript in Rails</a></dd>
                  <dd><a href="initialization.html">The Rails Initialization Process</a></dd>
                  <dd><a href="autoloading_and_reloading_constants.html">Autoloading and Reloading Constants</a></dd>
                  <dd><a href="classic_to_zeitwerk_howto.html">Classic para Zeitwerk - Como Fazer</a></dd>
                  <dd><a href="caching_with_rails.html">Caching with Rails: An Overview</a></dd>
                  <dd><a href="active_support_instrumentation.html">Active Support Instrumentation</a></dd>
                  <dd><a href="api_app.html">Using Rails for API-only Applications</a></dd>
                  <dd><a href="active_record_postgresql.html">Active Record and PostgreSQL</a></dd>
                  <dd><a href="active_record_multiple_databases.html">Multiple Databases with Active Record</a></dd>
                  <dd><a href="active_record_encryption.html">Active Record Encryption</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Estendendo o Rails</dt>
                  <dd><a href="plugins.html">The Basics of Creating Rails Plugins</a></dd>
                  <dd><a href="rails_on_rack.html">Rails on Rack</a></dd>
                  <dd><a href="generators.html">Creating and Customizing Rails Generators &amp; Templates</a></dd>
                  <dd><a href="engines.html">Getting Started with Engines</a></dd>
                  <dd><a href="threading_and_code_execution.html">Threading and Code Execution in Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Contribuições</dt>
                  <dd><a href="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</a></dd>
                  <dd><a href="api_documentation_guidelines.html">API Documentation Guidelines</a></dd>
                  <dd><a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Políticas</dt>
                  <dd><a href="maintenance_policy.html">Maintenance Policy for Ruby on Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Release Notes</dt>
                  <dd><a href="upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</a></dd>
                  <dd><a href="7_0_release_notes.html">Version 7.0 - Dezembro 2021</a></dd>
                  <dd><a href="6_1_release_notes.html">Version 6.1 - Dezembro 2020</a></dd>
                  <dd><a href="6_0_release_notes.html">Version 6.0 - Agosto 2019</a></dd>
                  <dd><a href="5_2_release_notes.html">Version 5.2 - April 2018</a></dd>
                  <dd><a href="5_1_release_notes.html">Version 5.1 - April 2017</a></dd>
                  <dd><a href="5_0_release_notes.html">Version 5.0 - June 2016</a></dd>
                  <dd><a href="4_2_release_notes.html">Version 4.2 - December 2014</a></dd>
                  <dd><a href="4_1_release_notes.html">Version 4.1 - April 2014</a></dd>
                  <dd><a href="4_0_release_notes.html">Version 4.0 - June 2013</a></dd>
                  <dd><a href="3_2_release_notes.html">Version 3.2 - January 2012</a></dd>
                  <dd><a href="3_1_release_notes.html">Version 3.1 - August 2011</a></dd>
                  <dd><a href="3_0_release_notes.html">Version 3.0 - August 2010</a></dd>
                  <dd><a href="2_3_release_notes.html">Version 2.3 - March 2009</a></dd>
                  <dd><a href="2_2_release_notes.html">Version 2.2 - November 2008</a></dd>
                </div>
            </div>
          </dl>
        </li>
        <li><a class="nav-item" href="contributing_to_ruby_on_rails.html">Contribua</a></li>
        <li class="guides-search guides-search-small">
          <input class="search-box search-box-small nav-item" type="text" placeholder="Digite o termo...">
          <div class="search-results"></div>
          <div class="search-spinner">Aguarde...</div>
        </li>
        <li class="guides-index guides-index-small">
          <select class="guides-index-item nav-item">
            <option value="index.html">Guias</option>
              <optgroup label="Comece aqui">
                  <option value="getting_started.html">Começando com Rails</option>
              </optgroup>
              <optgroup label="Models">
                  <option value="active_record_basics.html">Active Record Basics</option>
                  <option value="active_record_migrations.html">Active Record Migrations</option>
                  <option value="active_record_validations.html">Active Record Validations</option>
                  <option value="active_record_callbacks.html">Active Record Callbacks</option>
                  <option value="association_basics.html">Active Record Associations</option>
                  <option value="active_record_querying.html">Active Record Query Interface</option>
                  <option value="active_model_basics.html">Active Model Basics</option>
              </optgroup>
              <optgroup label="Views">
                  <option value="action_view_overview.html">Action View Overview</option>
                  <option value="layouts_and_rendering.html">Layouts and Rendering in Rails</option>
                  <option value="action_view_helpers.html">Action View Helpers</option>
                  <option value="form_helpers.html">Action View Form Helpers</option>
              </optgroup>
              <optgroup label="Controllers">
                  <option value="action_controller_overview.html">Action Controller Overview</option>
                  <option value="routing.html">Rails Routing from the Outside In</option>
              </optgroup>
              <optgroup label="Outros componentes">
                  <option value="active_support_core_extensions.html">Active Support Core Extensions</option>
                  <option value="action_mailer_basics.html">Action Mailer Basics</option>
                  <option value="action_mailbox_basics.html">Action Mailbox Basics</option>
                  <option value="action_text_overview.html">Action Text Overview</option>
                  <option value="active_job_basics.html">Active Job Basics</option>
                  <option value="active_storage_overview.html">Active Storage Overview</option>
                  <option value="action_cable_overview.html">Action Cable Overview</option>
                  <option value="webpacker.html">Webpacker</option>
              </optgroup>
              <optgroup label="Indo mais fundo">
                  <option value="i18n.html">Rails Internationalization (I18n) API</option>
                  <option value="testing.html">Testing Rails Applications</option>
                  <option value="security.html">Securing Rails Applications</option>
                  <option value="debugging_rails_applications.html">Debugging Rails Applications</option>
                  <option value="configuring.html">Configuring Rails Applications</option>
                  <option value="command_line.html">The Rails Command Line</option>
                  <option value="asset_pipeline.html">The Asset Pipeline</option>
                  <option value="working_with_javascript_in_rails.html">Working with JavaScript in Rails</option>
                  <option value="initialization.html">The Rails Initialization Process</option>
                  <option value="autoloading_and_reloading_constants.html">Autoloading and Reloading Constants</option>
                  <option value="classic_to_zeitwerk_howto.html">Classic para Zeitwerk - Como Fazer</option>
                  <option value="caching_with_rails.html">Caching with Rails: An Overview</option>
                  <option value="active_support_instrumentation.html">Active Support Instrumentation</option>
                  <option value="api_app.html">Using Rails for API-only Applications</option>
                  <option value="active_record_postgresql.html">Active Record and PostgreSQL</option>
                  <option value="active_record_multiple_databases.html">Multiple Databases with Active Record</option>
                  <option value="active_record_encryption.html">Active Record Encryption</option>
              </optgroup>
              <optgroup label="Estendendo o Rails">
                  <option value="plugins.html">The Basics of Creating Rails Plugins</option>
                  <option value="rails_on_rack.html">Rails on Rack</option>
                  <option value="generators.html">Creating and Customizing Rails Generators &amp; Templates</option>
                  <option value="engines.html">Getting Started with Engines</option>
                  <option value="threading_and_code_execution.html">Threading and Code Execution in Rails</option>
              </optgroup>
              <optgroup label="Contribuições">
                  <option value="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</option>
                  <option value="api_documentation_guidelines.html">API Documentation Guidelines</option>
                  <option value="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</option>
              </optgroup>
              <optgroup label="Políticas">
                  <option value="maintenance_policy.html">Maintenance Policy for Ruby on Rails</option>
              </optgroup>
              <optgroup label="Release Notes">
                  <option value="upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</option>
                  <option value="7_0_release_notes.html">Version 7.0 - Dezembro 2021</option>
                  <option value="6_1_release_notes.html">Version 6.1 - Dezembro 2020</option>
                  <option value="6_0_release_notes.html">Version 6.0 - Agosto 2019</option>
                  <option value="5_2_release_notes.html">Version 5.2 - April 2018</option>
                  <option value="5_1_release_notes.html">Version 5.1 - April 2017</option>
                  <option value="5_0_release_notes.html">Version 5.0 - June 2016</option>
                  <option value="4_2_release_notes.html">Version 4.2 - December 2014</option>
                  <option value="4_1_release_notes.html">Version 4.1 - April 2014</option>
                  <option value="4_0_release_notes.html">Version 4.0 - June 2013</option>
                  <option value="3_2_release_notes.html">Version 3.2 - January 2012</option>
                  <option value="3_1_release_notes.html">Version 3.1 - August 2011</option>
                  <option value="3_0_release_notes.html">Version 3.0 - August 2010</option>
                  <option value="2_3_release_notes.html">Version 2.3 - March 2009</option>
                  <option value="2_2_release_notes.html">Version 2.2 - November 2008</option>
              </optgroup>
          </select>
        </li>
      </ul>
    </div>
  </div>
  <hr class="hide" />

  <div id="feature">
    <div class="wrapper">
      <h2>Webpacker</h2><p>Esse guia irá mostrar como instalar e usar o Webpacker para empacotar JavaScript, CSS e outros <em>assets</em> para a lado cliente da sua aplicação Rails mas por favor note que o <a href="https://github.com/rails/webpacker#webpacker-has-been-retired-">Webpacker foi aposentado</a>.</p><p>Depois de ler esse guia, você saberá:</p>
<ul>
<li>O que o Webpacker faz e o como ele é diferente do Sprockets.</li>
<li>Como instalar o Webpacker e integrar com seu <em>framework</em> de escolha.</li>
<li>Como usar o Webpacker para <em>assets</em> JavaScript.</li>
<li>Como usar o Webpacker para <em>assets</em> CSS.</li>
<li>Como usar o Webpacker para <em>assets</em> estáticos.</li>
<li>Como fazer deploy de uma aplicação que usa Webpacker.</li>
<li>Como usar o Webpacker em contextos Rails alternativos, como <em>engines</em> ou <em>containers</em> Docker.</li>
</ul>


                <div id="subCol">
            <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
            <ol class="chapters">
<li>
<a href="#o-que-%C3%A9-webpacker-questionmark">O que é Webpacker?</a>

<ul>
<li><a href="#o-que-%C3%A9-webpack-questionmark">O que é Webpack?</a></li>
<li><a href="#como-o-webpacker-%C3%A9-diferente-do-sprockets-questionmark">Como o Webpacker é diferente do Sprockets?</a></li>
</ul>
</li>
<li><a href="#installing-webpacker">Installing Webpacker</a></li>
<li>
<a href="#uso">Uso</a>

<ul>
<li><a href="#usando-webpacker-para-javascript">Usando Webpacker para JavaScript</a></li>
<li><a href="#usando-webpacker-para-css">Usando Webpacker para CSS</a></li>
<li><a href="#usando-webpacker-para-assets-est%C3%A1ticos">Usando Webpacker para Assets Estáticos</a></li>
<li><a href="#webpacker-em-engines-rails">Webpacker em Engines Rails</a></li>
<li><a href="#substitui%C3%A7%C3%A3o-de-hot-module-hmr-hot-module-replacement">Substituição de Hot Module (HMR - Hot Module Replacement)</a></li>
</ul>
</li>
<li><a href="#webpacker-em-diferentes-ambientes">Webpacker em Diferentes Ambientes</a></li>
<li>
<a href="#executando-webpacker-em-desenvolvimento">Executando Webpacker em Desenvolvimento</a>

<ul>
<li><a href="#fazendo-deploy-do-webpacker">Fazendo Deploy do Webpacker</a></li>
</ul>
</li>
<li><a href="#documenta%C3%A7%C3%A3o-adicional">Documentação Adicional</a></li>
</ol>

          </div>

    </div>
  </div>

  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <h3 id="o-que-é-webpacker-questionmark"><a class="anchorlink" href="#o-que-%C3%A9-webpacker-questionmark">1 O que é Webpacker?</a></h3><p>Webpacker é um <em>wrapper</em> Rails feito com o sistema de <em>build</em> <a href="https://webpack.js.org">webpack</a> que provê uma configuração padrão webpack e bons padrões.</p><h4 id="o-que-é-webpack-questionmark"><a class="anchorlink" href="#o-que-%C3%A9-webpack-questionmark">1.1 O que é Webpack?</a></h4><p>O intuito do webpack, ou qualquer sistema de <em>build</em> front-end, é permitir que você escreva código front-end de maneira conveniente para pessoas desenvolvedoras e depois empacotar o código de maneira conveniente para navegadores. Com o webpack, você pode gerenciar Javascript, CSS e <em>assets</em> estáticos, como imagens e fontes. O webpack permite que você escreva seu código, referencie outro código na aplicação, transforme seu código e combine ele em pacotes que podem ser facilmente baixados.</p><p>Veja a <a href="https://webpack.js.org">documentação do webpack</a> para mais informações.</p><h4 id="como-o-webpacker-é-diferente-do-sprockets-questionmark"><a class="anchorlink" href="#como-o-webpacker-%C3%A9-diferente-do-sprockets-questionmark">1.2 Como o Webpacker é diferente do Sprockets?</a></h4><p>O Rails também funciona com o Sprockets, uma ferramenta de empacotamento de <em>assets</em> que tem algumas funcionalidade em comum com o Webpacker. Ambas vão compilar seu Javascript em arquivos "amigáveis" para o navegador, além de minificar e adicionar <em>fingerprints</em> neles em produção. Em ambiente de desenvolvimento, o Sprockets e o Webpacker permitem que você altere arquivos de maneira incremental.</p><p>O Sprockets, que foi feito para ser usado com Rails, é mais simples de integrar. Particularmente, o código pode ser adicionado ao Sprockets por meio de uma <em>gem</em> Ruby. Todavia, o webpack integra melhor com mais ferramentas atuais de javascript e pacotes NPM e disponibiliza mais variedade de integrações. Aplicações novas Rails são configuradas para usar o webpack para Javascript e Sprockets para CSS, apesar de que você também pode utilizar o webpack para o CSS.</p><p>Você deve escolher o Webpacker em vez de Sprockets em um projeto novo se quiser utilizar pacotes NPM e/ou quiser acessar funcionalidades e ferramentas mais atuais de Javascript. Você deve escolher Sprockets em vez do Webpacker para aplicações legadas onde migrações podem ser custosas, se você quiser integrar usando Gems ou se tiver uma quantidade pequena de código a ser empacotado.</p><p>Se você estiver familiarizado com o Sprockets, o guia a seguir pode trazer ideias de correspondência entre as duas ferramentas. Por favor, note que cada ferramenta tem uma estrutura diferente, e os conceitos não são exatamentes iguais um ao outro.</p>
<table>
<thead>
<tr>
<th>Tarefa</th>
<th>Sprockets</th>
<th>Webpacker</th>
</tr>
</thead>
<tbody>
<tr>
<td>Vincular JavaScript</td>
<td>javascript_include_tag</td>
<td>javascript_pack_tag</td>
</tr>
<tr>
<td>Vincular CSS</td>
<td>stylesheet_link_tag</td>
<td>stylesheet_pack_tag</td>
</tr>
<tr>
<td>Link de uma imagem</td>
<td>image_url</td>
<td>image_pack_tag</td>
</tr>
<tr>
<td>Link de um <em>asset</em>
</td>
<td>asset_url</td>
<td>asset_pack_tag</td>
</tr>
<tr>
<td>Requerer um <em>script</em>
</td>
<td>//= require</td>
<td>import or require</td>
</tr>
</tbody>
</table>
<h3 id="installing-webpacker"><a class="anchorlink" href="#installing-webpacker">2 Installing Webpacker</a></h3><p>To use Webpacker, you must install the Yarn package manager, version 1.x or up, and you must have Node.js installed, version 10.13.0 and up.</p><div class="note"><p>Webpacker depends on NPM and Yarn. NPM, the Node package manager registry, is the primary repository for publishing and downloading open-source JavaScript projects, both for Node.js and browser runtimes. It is analogous to rubygems.org for Ruby gems. Yarn is a command-line utility that enables the installation and management of JavaScript dependencies, much like Bundler does for Ruby.</p></div><p>To include Webpacker in a new project, add <code>--webpack</code> to the <code>rails new</code> command. To add Webpacker to an existing project, add the <code>webpacker</code> gem to the project's <code>Gemfile</code>, run <code>bundle install</code>, and then run <code>bin/rails webpacker:install</code>.</p><p>Installing Webpacker creates the following local files:</p>
<table>
<thead>
<tr>
<th>File</th>
<th>Location</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>JavaScript Folder</td>
<td><code>app/javascript</code></td>
<td>A place for your front-end source</td>
</tr>
<tr>
<td>Webpacker Configuration</td>
<td><code>config/webpacker.yml</code></td>
<td>Configure the Webpacker gem</td>
</tr>
<tr>
<td>Babel Configuration</td>
<td><code>babel.config.js</code></td>
<td>Configuration for the <a href="https://babeljs.io">Babel</a> JavaScript Compiler</td>
</tr>
<tr>
<td>PostCSS Configuration</td>
<td><code>postcss.config.js</code></td>
<td>Configuration for the <a href="https://postcss.org">PostCSS</a> CSS Post-Processor</td>
</tr>
<tr>
<td>Browserlist</td>
<td><code>.browserslistrc</code></td>
<td>
<a href="https://github.com/browserslist/browserslist">Browserlist</a> manages target browsers configuration</td>
</tr>
</tbody>
</table>
<p>The installation also calls the <code>yarn</code> package manager, creates a <code>package.json</code> file with a basic set of packages listed, and uses Yarn to install these dependencies.</p><h3 id="uso"><a class="anchorlink" href="#uso">3 Uso</a></h3><h4 id="usando-webpacker-para-javascript"><a class="anchorlink" href="#usando-webpacker-para-javascript">3.1 Usando Webpacker para JavaScript</a></h4><p>Com Webpacker instalado, qualquer arquivo JavaScript no diretório <code>app/javascript/packs</code> será compilado para seu próprio arquivo de <em>pack</em> (pacote) padrão.</p><p>Então, se você tem um arquivo chamado <code>app/javascript/packs/application.js</code>, Webpacker irá criar um pacote chamado <code>application</code>, e você pode adicionar isto para sua aplicação Rails com o código <code>&lt;%= javascript_pack_tag "application" %&gt;</code>. Com isso no lugar, em desenvolvimento, Rails irá recompilar o arquivo <code>application.js</code> a cada vez que é alterado, e você carrega uma página que usa esse pacote. Normalmente, o arquivo no diretório <code>packs</code> real será um manifesto que carrega na sua maior parte outros arquivos, mas também pode ter código JavaScript arbitrário.</p><p>O pacote padrão criado para você pelo Webpacker será vinculado aos pacotes JavaScript padrão do Rails se eles tiverem sido incluídos no projeto:</p><div class="code_container">
<pre><code class="highlight plaintext">import Rails from "@rails/ujs"
import Turbolinks from "turbolinks"
import * as ActiveStorage from "@rails/activestorage"
import "channels"

Rails.start()
Turbolinks.start()
ActiveStorage.start()
</code></pre>
<button class="clipboard-button" data-clipboard-text='import Rails from "@rails/ujs"
import Turbolinks from "turbolinks"
import * as ActiveStorage from "@rails/activestorage"
import "channels"

Rails.start()
Turbolinks.start()
ActiveStorage.start()
'>Copy</button>
</div>
<p>Você precisará incluir um pacote que requeira esses pacotes para usá-los em seu aplicativo Rails.</p><p>É importante notar que apenas os arquivos de entrada do Webpack devem ser colocados no diretório <code>app/javascript/packs</code>; O Webpack criará um gráfico de dependência separado para cada ponto de entrada, portanto, um grande número de pacotes aumentará a sobrecarga de compilação. O restante do seu código-fonte deve ficar fora desse diretório, embora o Webpacker não coloque nenhuma restrição ou faça sugestões sobre como estruturar seu código-fonte. Aqui está um exemplo:</p><div class="code_container">
<pre><code class="highlight sh">app/javascript:
  ├── packs:
  │   <span class="c"># apenas arquivos de entrada do webpack aqui</span>
  │   └── application.js
  │   └── application.css
  └── src:
  │   └── my_component.js
  └── stylesheets:
  │   └── my_styles.css
  └── images:
      └── logo.svg
</code></pre>
<button class="clipboard-button" data-clipboard-text="app/javascript:
  ├── packs:
  │   # apenas arquivos de entrada do webpack aqui
  │   └── application.js
  │   └── application.css
  └── src:
  │   └── my_component.js
  └── stylesheets:
  │   └── my_styles.css
  └── images:
      └── logo.svg
">Copy</button>
</div>
<p>Normalmente, o próprio arquivo de pacote é em grande parte um manifesto que usa <code>import</code> ou <code>require</code> para carregar os arquivos necessários e também pode fazer alguma inicialização.</p><p>Se você quiser mudar esses diretórios, você pode ajustar o <code>source_path</code> (padrão <code>app/javascript</code>) e <code>source_entry_path</code> (padrão <code>packs</code>) no arquivo <code>config/webpacker.yml</code>.</p><p>Dentro dos arquivos de código fonte, as declarações <code>import</code> são resolvidas em relação ao arquivo fazendo a importação, então <code>import Bar from "./foo"</code> encontra um arquivo <code>foo.js</code> no mesmo diretório que o arquivo atual, enquanto <code>import Bar from "../src/foo"</code> encontra um arquivo em um diretório irmão chamado <code>src</code>.</p><h4 id="usando-webpacker-para-css"><a class="anchorlink" href="#usando-webpacker-para-css">3.2 Usando Webpacker para CSS</a></h4><p>Pronto para uso, o Webpacker suporta CSS e SCSS usando o processador PostCSS.</p><p>Para incluir código CSS em seus pacotes, primeiro inclua seus arquivos CSS em seu arquivo de pacote de nível superior como se fosse um arquivo JavaScript. Portanto, se seu manifesto CSS de nível superior estiver em <code>app/javascript/styles/styles.scss</code>, você poderá importá-lo com <code>import styles/styles</code>. Isso diz ao webpack para incluir seu arquivo CSS no download. Para realmente carregá-lo na página, inclua <code>&lt;%= stylesheet_pack_tag "application" %&gt;</code> na visualização, onde o <code>application</code> é o mesmo nome do pacote que você estava usando.</p><p>Se você estiver usando um framework CSS, você pode adicioná-lo ao Webpacker seguindo as instruções para carregar o framework como um módulo NPM usando <code>yarn</code>, normalmente <code>yarn add &lt;framework&gt;</code>. A estrutura deve ter instruções sobre como importá-la para um arquivo CSS ou SCSS.</p><h4 id="usando-webpacker-para-assets-estáticos"><a class="anchorlink" href="#usando-webpacker-para-assets-est%C3%A1ticos">3.3 Usando Webpacker para Assets Estáticos</a></h4><p>A <a href="https://github.com/rails/webpacker/blob/master/lib/install/config/webpacker.yml#L21">configuração</a> do Webpack padrão deve funcionar imediatamente para <em>assets</em> estáticos.
A configuração inclui várias extensões de formato de arquivo de imagem e fonte, permitindo que o webpack as inclua no arquivo <code>manifest.json</code> gerado.</p><p>Com o webpack, os <em>assets</em> estáticos podem ser importados diretamente em arquivos JavaScript. O valor importado representa a URL para o ativo. Por exemplo:</p><div class="code_container">
<pre><code class="highlight javascript"><span class="k">import</span> <span class="nx">myImageUrl</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../images/my-image.jpg</span><span class="dl">'</span>

<span class="c1">// ...</span>
<span class="kd">let</span> <span class="nx">myImage</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Image</span><span class="p">();</span>
<span class="nx">myImage</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">myImageUrl</span><span class="p">;</span>
<span class="nx">myImage</span><span class="p">.</span><span class="nx">alt</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Eu sou uma imagem do pacote Webpacker</span><span class="dl">"</span><span class="p">;</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">myImage</span><span class="p">);</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="import myImageUrl from '../images/my-image.jpg'

// ...
let myImage = new Image();
myImage.src = myImageUrl;
myImage.alt = &quot;Eu sou uma imagem do pacote Webpacker&quot;;
document.body.appendChild(myImage);
">Copy</button>
</div>
<p>Se você precisar referenciar <em>assets</em> estáticos do Webpacker a partir de uma <em>view</em> do Rails, os <em>assets</em> precisam ser explicitamente requeridos nos arquivos JavaScript empacotados do Webpacker. Ao contrário do Sprockets, o Webpacker não importa seus <em>assets</em> estáticos por padrão. O arquivo padrão <code>app/javascript/packs/application.js</code> tem um <em>template</em> para importar arquivos de um determinado diretório, que você pode descomentar para cada diretório em que deseja ter arquivos estáticos. Os diretórios são relativos a <code>app/javascript</code> . O <em>template</em> usa o diretório <code>images</code>, mas você pode usar qualquer coisa em <code>app/javascript</code>:</p><div class="code_container">
<pre><code class="highlight plaintext">const images = require.context("../images", true)
const imagePath = name =&gt; images(name, true)
</code></pre>
<button class="clipboard-button" data-clipboard-text='const images = require.context("../images", true)
const imagePath = name =&gt; images(name, true)
'>Copy</button>
</div>
<p><em>Assets</em> estáticos serão enviados para um diretório em <code>public/packs/media</code>. Por exemplo, uma imagem localizada e importada em <code>app/javascript/images/my-image.jpg</code> será gerada em <code>public/packs/media/images/my-image-abcd1234.jpg</code>. Para renderizar uma tag de imagem para esta imagem em uma <em>view</em> do Rails, use <code>image_pack_tag 'media/images/my-image.jpg</code>.</p><p>Os <em>helpers</em> do Webpacker ActionView para <em>assets</em> estáticos correspondem aos <em>helpers</em> de pipeline de <em>assets</em> de acordo com a tabela a seguir:</p>
<table>
<thead>
<tr>
<th>Helper ActionView</th>
<th>Helper Webpacker</th>
</tr>
</thead>
<tbody>
<tr>
<td>favicon_link_tag</td>
<td>favicon_pack_tag</td>
</tr>
<tr>
<td>image_tag</td>
<td>image_pack_tag</td>
</tr>
</tbody>
</table>
<p>Além disso, o <em>helper</em> genérico <code>asset_pack_path</code> seleciona a localização local de um arquivo e retorna sua localização do Webpacker para uso em <em>views</em> do Rails.</p><p>Você também pode acessar a imagem referenciando diretamente o arquivo de um arquivo CSS em <code>app/javascript</code>.</p><h4 id="webpacker-em-engines-rails"><a class="anchorlink" href="#webpacker-em-engines-rails">3.4 Webpacker em Engines Rails</a></h4><p>A partir da versão 6 do Webpacker, o Webpacker não é "consciente da <em>engine</em>", o que significa que o Webpacker não possui paridade de recursos com o Sprockets quando se trata de seu uso nas <em>engines</em> do Rails.</p><p>Os autores de gems de <em>engines</em> Rails que desejam oferecer suporte aos consumidores usando o Webpacker são incentivados a distribuir ativos de <em>front-end</em> como um pacote NPM além da própria gem e fornecer instruções (ou um instalador) para demonstrar como os aplicativos hospedeiros devem se integrar. Um bom exemplo dessa abordagem é o <a href="https://github.com/AlchemyCMS/alchemy_cms">Alchemy CMS</a>.</p><h4 id="substituição-de-hot-module-hmr-hot-module-replacement"><a class="anchorlink" href="#substitui%C3%A7%C3%A3o-de-hot-module-hmr-hot-module-replacement">3.5 Substituição de Hot Module (HMR - Hot Module Replacement)</a></h4><p>O Webpacker pronto para uso suporta HMR com webpack-dev-server, e você pode alterná-lo configurando a opção dev_server/hmr dentro de <code>webpacker.yml</code>.</p><p>Confira a <a href="https://webpack.js.org/configuration/dev-server/#devserver-hot">documentação do webpack no DevServer</a> para mais informações.</p><p>Para suportar HMR com React, você precisará adicionar react-hot-loader. Confira <a href="https://gaearon.github.io/react-hot-loader/getstarted/">Guia de primeiros passos no React Hot Loader</a>.</p><p>Não se esqueça de desabilitar o HMR se você não estiver executando o webpack-dev-server; caso contrário, você receberá um "erro não encontrado" para arquivos css.</p><h3 id="webpacker-em-diferentes-ambientes"><a class="anchorlink" href="#webpacker-em-diferentes-ambientes">4 Webpacker em Diferentes Ambientes</a></h3><p>O Webpacker possui três ambientes por padrão <code>development</code>, <code>test</code> e <code>production</code>. Você pode adicionar configurações de ambiente adicionais no arquivo <code>webpacker.yml</code> e definir padrões diferentes para cada ambiente. O Webpacker também carregará o arquivo <code>config/webpack/&lt;environment&gt;.js</code> para configuração adicional do ambiente.</p><h3 id="executando-webpacker-em-desenvolvimento"><a class="anchorlink" href="#executando-webpacker-em-desenvolvimento">5 Executando Webpacker em Desenvolvimento</a></h3><p>O Webpacker vem com dois arquivos <em>binstub</em> para rodar em desenvolvimento: <code>./bin/webpack</code> e <code>./bin/webpack-dev-server</code>. Ambos são <em>wrappers</em> condensados em torno dos executáveis padrão <code>webpack.js</code> e <code>webpack-dev-server.js</code> e garantem que os arquivos de configuração corretos e variáveis de ambiente sejam carregadas com base em seu ambiente.</p><p>Por padrão, o Webpacker compila automaticamente sob demanda em desenvolvimento quando uma página do Rails é carregada. Isso significa que você não precisa executar nenhum processo separado, e os erros de compilação serão registrados no <em>log</em> padrão do Rails. Você pode mudar isso mudando para <code>compile: false</code> no arquivo <code>config/webpacker.yml</code>. Executar <code>bin/webpack</code> forçará a compilação de seus pacotes.</p><p>Se você quiser usar o recarregamento de código em tempo real ou tiver JavaScript suficiente para que a compilação sob demanda seja muito lenta, você precisará executar <code>./bin/webpack-dev-server</code> ou <code>ruby ./bin/webpack-dev-server</code>. Este processo observará as alterações nos arquivos <code>app/javascript/packs/*.js</code>, recompilando e recarregando automaticamente o navegador.</p><p>Os usuários do Windows precisarão executar esses comandos em um terminal separado do <code>bundle exec rails server</code>.</p><p>Assim que você iniciar esse servidor de desenvolvimento, o Webpacker iniciará automaticamente o <em>proxy</em> de todas as solicitações de ativos do webpack para este servidor. Quando você parar o servidor, ele reverterá para a compilação sob demanda.</p><p>A <a href="https://github.com/rails/webpacker">Documentação do Webpacker</a> fornece informações sobre variáveis de ambiente que você pode usar para controlar o <code>webpack-dev-server</code>. Veja notas adicionais nos <a href="https://github.com/rails/webpacker#development">documentos do Rails/webpacker sobre o uso do webpack-dev-server</a>.</p><h4 id="fazendo-deploy-do-webpacker"><a class="anchorlink" href="#fazendo-deploy-do-webpacker">5.1 Fazendo Deploy do Webpacker</a></h4><p>O Webpacker adiciona uma tarefa <code>webpacker:compile</code> à tarefa de rake <code>assets:precompile</code>, portanto, qualquer pipeline de implantação existente que estava usando <code>assets:precompile</code> deve funcionar. A tarefa compilará os pacotes e os colocará em <code>public/packs</code>.</p><h3 id="documentação-adicional"><a class="anchorlink" href="#documenta%C3%A7%C3%A3o-adicional">6 Documentação Adicional</a></h3><p>Para obter mais informações sobre tópicos avançados, como o uso do Webpacker com <em>frameworks</em> populares, consulte a <a href="https://github.com/rails/webpacker">Documentação do Webpacker</a>.</p>

        <h3>Feedback</h3>
        <p>
          Você é incentivado a ajudar a melhorar a qualidade deste guia.
        </p>
        <p>
          Por favor, contribua caso veja quaisquer erros, inclusive erros de digitação.
          Para começar, você pode ler nossa sessão de <a href="https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation">contribuindo com a documentação</a>.
        </p>
        <p>
          Você também pode encontrar conteúdo incompleto ou coisas que não estão atualizadas.
          Por favor, adicione qualquer documentação em falta na main do Rails. Certifique-se de checar o
          <a href="http://edgeguides.rubyonrails.org">Edge Guides (en-US)</a> primeiro para verificar
          se o problema já foi resolvido ou não no branch main.
          Verifique as <a href="ruby_on_rails_guides_guidelines.html">Diretrizes do Guia Ruby on Rails</a>
          para estilo e convenções.
        </p>
        <p>
          Se, por qualquer motivo, você encontrar algo para consertar, mas não conseguir consertá-lo, por favor
          <a href="https://github.com/campuscode/rails-guides-pt-BR/issues">abra uma issue no nosso Guia</a>.
        </p>
        <p>
          E por último, mas não menos importante, qualquer tipo de discussão sobre a documentação do Ruby on Rails
          é muito bem vinda na <a href="https://discuss.rubyonrails.org/c/rubyonrails-docs">forum oficial do Ruby on Rails</a> e nas
          <a href="https://github.com/campuscode/rails-guides-pt-BR/issues">issues do Guia em português</a>.
        </p>
      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <p> Este projeto está licenciado sob uma licença <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a></p>
<p>"Rails", "Ruby on Rails", e o logotipo Rails são marcas comerciais de David Heinemeier Hansson. Todos os direitos reservados.</p>

    </div>
  </div>
  <div id="toggle">
    <img alt="dark theme icon" class="icon">
  </div>
</body>
</html>
