<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Webpacker — Ruby on Rails Guides</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/style.css" data-turbolinks-track="reload">
  <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
  <link rel="stylesheet" type="text/css" href="stylesheets/highlight.css" data-turbolinks-track="reload">
  <link rel="stylesheet" type="text/css" href="stylesheets/search.css" data-turbolinks-track="reload">
  <link href="images/favicon.ico" rel="icon" type="image/x-icon" />
  <script src="javascripts/turbolinks.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/clipboard.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/guides.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/search.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/lunr-documents.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/lunr.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/toggle-theme.js" data-turbolinks-track="reload"></script>
  <meta property="og:title" content="Webpacker — Ruby on Rails Guides" />
  <meta name="description" content="WebpackerThis guide will show you how to install and use Webpacker to package JavaScript, CSS, and other assets for the client-side of your Rails application.After reading this guide, you will know: What Webpacker does and why it is different from Sprockets. How to install Webpacker and integrate it with your framework of choice. How to use Webpacker for JavaScript assets. How to use Webpacker for CSS assets. How to use Webpacker for static assets. How to deploy a site that uses Webpacker. How to use Webpacker in alternate Rails contexts, such as engines or Docker containers." />
  <meta property="og:description" content="WebpackerThis guide will show you how to install and use Webpacker to package JavaScript, CSS, and other assets for the client-side of your Rails application.After reading this guide, you will know: What Webpacker does and why it is different from Sprockets. How to install Webpacker and integrate it with your framework of choice. How to use Webpacker for JavaScript assets. How to use Webpacker for CSS assets. How to use Webpacker for static assets. How to deploy a site that uses Webpacker. How to use Webpacker in alternate Rails contexts, such as engines or Docker containers." />
  <meta property="og:locale" content="pt_BR" />
  <meta property="og:site_name" content="Guia Ruby on Rails" />
  <meta property="og:image" content="https://avatars.githubusercontent.com/u/4223" />
  <meta property="og:type" content="website" />
</head>
<body class="guide">
  <div>
    <div id="version-badge">v7.0.0</div>
  </div>
  <div id="topNav">
    <div class="wrapper">
      <strong class="more-info-label">Veja mais em <a href="https://rubyonrails.org/">rubyonrails.org:</a> </strong>
      <span class="red-button more-info-button">
        Mais Ruby on Rails
      </span>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="https://weblog.rubyonrails.org/">Blog</a></li>
        <li class="more-info"><a href="https://guides.rubyonrails.org/">Guia oficial</a></li>
        <li class="more-info"><a href="https://api.rubyonrails.org/">API</a></li>
        <li class="more-info"><a href="https://discuss.rubyonrails.org/">Forum</a></li>
        <li class="more-info"><a href="https://github.com/rails/rails">Contribua no GitHub</a></li>
      </ul>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="index.html" title="Voltar para a página principal">Guiarails.com.br</a></h1>
      <ul class="nav">
        <li><a class="nav-item" href="index.html">Home</a></li>
        <li class="guides-search guides-search-large">
          <input class="search-box search-box-large nav-item" type="text" placeholder="Digite o termo...">
          <div class="search-results"></div>
          <div class="search-spinner">Aguarde...</div>
        </li>
        <li class="guides-index guides-index-large">
          <a href="index.html" id="guidesMenu" class="guides-index-item nav-item">Guias</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
            <dl class="guides-section-container">
                <div class="guides-section">
                  <dt>Comece aqui</dt>
                  <dd><a href="getting_started.html">Começando com Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Models</dt>
                  <dd><a href="active_record_basics.html">Active Record Basics</a></dd>
                  <dd><a href="active_record_migrations.html">Active Record Migrations</a></dd>
                  <dd><a href="active_record_validations.html">Active Record Validations</a></dd>
                  <dd><a href="active_record_callbacks.html">Active Record Callbacks</a></dd>
                  <dd><a href="association_basics.html">Active Record Associations</a></dd>
                  <dd><a href="active_record_querying.html">Active Record Query Interface</a></dd>
                  <dd><a href="active_model_basics.html">Active Model Basics</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Views</dt>
                  <dd><a href="action_view_overview.html">Action View Overview</a></dd>
                  <dd><a href="layouts_and_rendering.html">Layouts and Rendering in Rails</a></dd>
                  <dd><a href="action_view_helpers.html">Action View Helpers</a></dd>
                  <dd><a href="form_helpers.html">Action View Form Helpers</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Controllers</dt>
                  <dd><a href="action_controller_overview.html">Action Controller Overview</a></dd>
                  <dd><a href="routing.html">Rails Routing from the Outside In</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Outros componentes</dt>
                  <dd><a href="active_support_core_extensions.html">Active Support Core Extensions</a></dd>
                  <dd><a href="action_mailer_basics.html">Action Mailer Basics</a></dd>
                  <dd><a href="action_mailbox_basics.html">Action Mailbox Basics</a></dd>
                  <dd><a href="action_text_overview.html">Action Text Overview</a></dd>
                  <dd><a href="active_job_basics.html">Active Job Basics</a></dd>
                  <dd><a href="active_storage_overview.html">Active Storage Overview</a></dd>
                  <dd><a href="action_cable_overview.html">Action Cable Overview</a></dd>
                  <dd><a href="webpacker.html">Webpacker</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Indo mais fundo</dt>
                  <dd><a href="i18n.html">Rails Internationalization (I18n) API</a></dd>
                  <dd><a href="testing.html">Testing Rails Applications</a></dd>
                  <dd><a href="security.html">Securing Rails Applications</a></dd>
                  <dd><a href="debugging_rails_applications.html">Debugging Rails Applications</a></dd>
                  <dd><a href="configuring.html">Configuring Rails Applications</a></dd>
                  <dd><a href="command_line.html">The Rails Command Line</a></dd>
                  <dd><a href="asset_pipeline.html">The Asset Pipeline</a></dd>
                  <dd><a href="working_with_javascript_in_rails.html">Working with JavaScript in Rails</a></dd>
                  <dd><a href="initialization.html">The Rails Initialization Process</a></dd>
                  <dd><a href="autoloading_and_reloading_constants.html">Autoloading and Reloading Constants</a></dd>
                  <dd><a href="classic_to_zeitwerk_howto.html">Classic para Zeitwerk - Como Fazer</a></dd>
                  <dd><a href="caching_with_rails.html">Caching with Rails: An Overview</a></dd>
                  <dd><a href="active_support_instrumentation.html">Active Support Instrumentation</a></dd>
                  <dd><a href="api_app.html">Using Rails for API-only Applications</a></dd>
                  <dd><a href="active_record_postgresql.html">Active Record and PostgreSQL</a></dd>
                  <dd><a href="active_record_multiple_databases.html">Multiple Databases with Active Record</a></dd>
                  <dd><a href="active_record_encryption.html">Active Record Encryption</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Estendendo o Rails</dt>
                  <dd><a href="plugins.html">The Basics of Creating Rails Plugins</a></dd>
                  <dd><a href="rails_on_rack.html">Rails on Rack</a></dd>
                  <dd><a href="generators.html">Creating and Customizing Rails Generators &amp; Templates</a></dd>
                  <dd><a href="engines.html">Getting Started with Engines</a></dd>
                  <dd><a href="threading_and_code_execution.html">Threading and Code Execution in Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Contribuições</dt>
                  <dd><a href="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</a></dd>
                  <dd><a href="api_documentation_guidelines.html">API Documentation Guidelines</a></dd>
                  <dd><a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Políticas</dt>
                  <dd><a href="maintenance_policy.html">Maintenance Policy for Ruby on Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Release Notes</dt>
                  <dd><a href="upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</a></dd>
                  <dd><a href="7_0_release_notes.html">Version 7.0 - ?</a></dd>
                  <dd><a href="6_1_release_notes.html">Version 6.1 - Dezembro 2020</a></dd>
                  <dd><a href="6_0_release_notes.html">Version 6.0 - Agosto 2019</a></dd>
                  <dd><a href="5_2_release_notes.html">Version 5.2 - April 2018</a></dd>
                  <dd><a href="5_1_release_notes.html">Version 5.1 - April 2017</a></dd>
                  <dd><a href="5_0_release_notes.html">Version 5.0 - June 2016</a></dd>
                  <dd><a href="4_2_release_notes.html">Version 4.2 - December 2014</a></dd>
                  <dd><a href="4_1_release_notes.html">Version 4.1 - April 2014</a></dd>
                  <dd><a href="4_0_release_notes.html">Version 4.0 - June 2013</a></dd>
                  <dd><a href="3_2_release_notes.html">Version 3.2 - January 2012</a></dd>
                  <dd><a href="3_1_release_notes.html">Version 3.1 - August 2011</a></dd>
                  <dd><a href="3_0_release_notes.html">Version 3.0 - August 2010</a></dd>
                  <dd><a href="2_3_release_notes.html">Version 2.3 - March 2009</a></dd>
                  <dd><a href="2_2_release_notes.html">Version 2.2 - November 2008</a></dd>
                </div>
            </div>
          </dl>
        </li>
        <li><a class="nav-item" href="contributing_to_ruby_on_rails.html">Contribua</a></li>
        <li class="guides-search guides-search-small">
          <input class="search-box search-box-small nav-item" type="text" placeholder="Digite o termo...">
          <div class="search-results"></div>
          <div class="search-spinner">Aguarde...</div>
        </li>
        <li class="guides-index guides-index-small">
          <select class="guides-index-item nav-item">
            <option value="index.html">Guias</option>
              <optgroup label="Comece aqui">
                  <option value="getting_started.html">Começando com Rails</option>
              </optgroup>
              <optgroup label="Models">
                  <option value="active_record_basics.html">Active Record Basics</option>
                  <option value="active_record_migrations.html">Active Record Migrations</option>
                  <option value="active_record_validations.html">Active Record Validations</option>
                  <option value="active_record_callbacks.html">Active Record Callbacks</option>
                  <option value="association_basics.html">Active Record Associations</option>
                  <option value="active_record_querying.html">Active Record Query Interface</option>
                  <option value="active_model_basics.html">Active Model Basics</option>
              </optgroup>
              <optgroup label="Views">
                  <option value="action_view_overview.html">Action View Overview</option>
                  <option value="layouts_and_rendering.html">Layouts and Rendering in Rails</option>
                  <option value="action_view_helpers.html">Action View Helpers</option>
                  <option value="form_helpers.html">Action View Form Helpers</option>
              </optgroup>
              <optgroup label="Controllers">
                  <option value="action_controller_overview.html">Action Controller Overview</option>
                  <option value="routing.html">Rails Routing from the Outside In</option>
              </optgroup>
              <optgroup label="Outros componentes">
                  <option value="active_support_core_extensions.html">Active Support Core Extensions</option>
                  <option value="action_mailer_basics.html">Action Mailer Basics</option>
                  <option value="action_mailbox_basics.html">Action Mailbox Basics</option>
                  <option value="action_text_overview.html">Action Text Overview</option>
                  <option value="active_job_basics.html">Active Job Basics</option>
                  <option value="active_storage_overview.html">Active Storage Overview</option>
                  <option value="action_cable_overview.html">Action Cable Overview</option>
                  <option value="webpacker.html">Webpacker</option>
              </optgroup>
              <optgroup label="Indo mais fundo">
                  <option value="i18n.html">Rails Internationalization (I18n) API</option>
                  <option value="testing.html">Testing Rails Applications</option>
                  <option value="security.html">Securing Rails Applications</option>
                  <option value="debugging_rails_applications.html">Debugging Rails Applications</option>
                  <option value="configuring.html">Configuring Rails Applications</option>
                  <option value="command_line.html">The Rails Command Line</option>
                  <option value="asset_pipeline.html">The Asset Pipeline</option>
                  <option value="working_with_javascript_in_rails.html">Working with JavaScript in Rails</option>
                  <option value="initialization.html">The Rails Initialization Process</option>
                  <option value="autoloading_and_reloading_constants.html">Autoloading and Reloading Constants</option>
                  <option value="classic_to_zeitwerk_howto.html">Classic para Zeitwerk - Como Fazer</option>
                  <option value="caching_with_rails.html">Caching with Rails: An Overview</option>
                  <option value="active_support_instrumentation.html">Active Support Instrumentation</option>
                  <option value="api_app.html">Using Rails for API-only Applications</option>
                  <option value="active_record_postgresql.html">Active Record and PostgreSQL</option>
                  <option value="active_record_multiple_databases.html">Multiple Databases with Active Record</option>
                  <option value="active_record_encryption.html">Active Record Encryption</option>
              </optgroup>
              <optgroup label="Estendendo o Rails">
                  <option value="plugins.html">The Basics of Creating Rails Plugins</option>
                  <option value="rails_on_rack.html">Rails on Rack</option>
                  <option value="generators.html">Creating and Customizing Rails Generators &amp; Templates</option>
                  <option value="engines.html">Getting Started with Engines</option>
                  <option value="threading_and_code_execution.html">Threading and Code Execution in Rails</option>
              </optgroup>
              <optgroup label="Contribuições">
                  <option value="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</option>
                  <option value="api_documentation_guidelines.html">API Documentation Guidelines</option>
                  <option value="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</option>
              </optgroup>
              <optgroup label="Políticas">
                  <option value="maintenance_policy.html">Maintenance Policy for Ruby on Rails</option>
              </optgroup>
              <optgroup label="Release Notes">
                  <option value="upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</option>
                  <option value="7_0_release_notes.html">Version 7.0 - ?</option>
                  <option value="6_1_release_notes.html">Version 6.1 - Dezembro 2020</option>
                  <option value="6_0_release_notes.html">Version 6.0 - Agosto 2019</option>
                  <option value="5_2_release_notes.html">Version 5.2 - April 2018</option>
                  <option value="5_1_release_notes.html">Version 5.1 - April 2017</option>
                  <option value="5_0_release_notes.html">Version 5.0 - June 2016</option>
                  <option value="4_2_release_notes.html">Version 4.2 - December 2014</option>
                  <option value="4_1_release_notes.html">Version 4.1 - April 2014</option>
                  <option value="4_0_release_notes.html">Version 4.0 - June 2013</option>
                  <option value="3_2_release_notes.html">Version 3.2 - January 2012</option>
                  <option value="3_1_release_notes.html">Version 3.1 - August 2011</option>
                  <option value="3_0_release_notes.html">Version 3.0 - August 2010</option>
                  <option value="2_3_release_notes.html">Version 2.3 - March 2009</option>
                  <option value="2_2_release_notes.html">Version 2.2 - November 2008</option>
              </optgroup>
          </select>
        </li>
      </ul>
    </div>
  </div>
  <hr class="hide" />

  <div id="feature">
    <div class="wrapper">
      <h2>Webpacker</h2><p>This guide will show you how to install and use Webpacker to package JavaScript, CSS, and other assets for the client-side of your Rails application.</p><p>After reading this guide, you will know:</p>
<ul>
<li>What Webpacker does and why it is different from Sprockets.</li>
<li>How to install Webpacker and integrate it with your framework of choice.</li>
<li>How to use Webpacker for JavaScript assets.</li>
<li>How to use Webpacker for CSS assets.</li>
<li>How to use Webpacker for static assets.</li>
<li>How to deploy a site that uses Webpacker.</li>
<li>How to use Webpacker in alternate Rails contexts, such as engines or Docker containers.</li>
</ul>


                <div id="subCol">
            <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
            <ol class="chapters">
<li>
<a href="#what-is-webpacker-questionmark">What Is Webpacker?</a>

<ul>
<li><a href="#what-is-webpack-questionmark">What is webpack?</a></li>
<li><a href="#how-is-webpacker-different-from-sprockets-questionmark">How is Webpacker Different from Sprockets?</a></li>
</ul>
</li>
<li><a href="#installing-webpacker">Installing Webpacker</a></li>
<li>
<a href="#usage">Usage</a>

<ul>
<li><a href="#using-webpacker-for-javascript">Using Webpacker for JavaScript</a></li>
<li><a href="#using-webpacker-for-css">Using Webpacker for CSS</a></li>
<li><a href="#using-webpacker-for-static-assets">Using Webpacker for Static Assets</a></li>
<li><a href="#webpacker-in-rails-engines">Webpacker in Rails Engines</a></li>
<li><a href="#hot-module-replacement-hmr">Hot Module Replacement (HMR)</a></li>
</ul>
</li>
<li><a href="#webpacker-in-different-environments">Webpacker in Different Environments</a></li>
<li>
<a href="#running-webpacker-in-development">Running Webpacker in Development</a>

<ul>
<li><a href="#deploying-webpacker">Deploying Webpacker</a></li>
</ul>
</li>
<li><a href="#additional-documentation">Additional Documentation</a></li>
</ol>

          </div>

    </div>
  </div>

  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <h3 id="what-is-webpacker-questionmark"><a class="anchorlink" href="#what-is-webpacker-questionmark">1 What Is Webpacker?</a></h3><p>Webpacker is a Rails wrapper around the <a href="https://webpack.js.org">webpack</a> build system that provides a standard webpack configuration and reasonable defaults.</p><h4 id="what-is-webpack-questionmark"><a class="anchorlink" href="#what-is-webpack-questionmark">1.1 What is webpack?</a></h4><p>The goal of webpack, or any front-end build system, is to allow you to write your front-end code in a way that is convenient for developers and then package that code in a way that is convenient for browsers. With webpack, you can manage JavaScript, CSS, and static assets like images or fonts. Webpack will allow you to write your code, reference other code in your application, transform your code, and combine your code into easily downloadable packs.</p><p>See the <a href="https://webpack.js.org">webpack documentation</a> for information.</p><h4 id="how-is-webpacker-different-from-sprockets-questionmark"><a class="anchorlink" href="#how-is-webpacker-different-from-sprockets-questionmark">1.2 How is Webpacker Different from Sprockets?</a></h4><p>Rails also ships with Sprockets, an asset-packaging tool whose features overlap with Webpacker. Both tools will compile your JavaScript into browser-friendly files and also minify and fingerprint them in production. In a development environment, Sprockets and Webpacker allow you to incrementally change files.</p><p>Sprockets, which was designed to be used with Rails, is somewhat simpler to integrate. In particular, code can be added to Sprockets via a Ruby gem. However, webpack is better at integrating with more current JavaScript tools and NPM packages and allows for a wider range of integration. New Rails apps are configured to use webpack for JavaScript and Sprockets for CSS, although you can do CSS in webpack.</p><p>You should choose Webpacker over Sprockets on a new project if you want to use NPM packages and/or want access to the most current JavaScript features and tools. You should choose Sprockets over Webpacker for legacy applications where migration might be costly, if you want to integrate using Gems, or if you have a very small amount of code to package.</p><p>If you are familiar with Sprockets, the following guide might give you some idea of how to translate. Please note that each tool has a slightly different structure, and the concepts don't directly map onto each other.</p>
<table>
<thead>
<tr>
<th>Task</th>
<th>Sprockets</th>
<th>Webpacker</th>
</tr>
</thead>
<tbody>
<tr>
<td>Attach JavaScript</td>
<td>javascript_include_tag</td>
<td>javascript_pack_tag</td>
</tr>
<tr>
<td>Attach CSS</td>
<td>stylesheet_link_tag</td>
<td>stylesheet_pack_tag</td>
</tr>
<tr>
<td>Link to an image</td>
<td>image_url</td>
<td>image_pack_tag</td>
</tr>
<tr>
<td>Link to an asset</td>
<td>asset_url</td>
<td>asset_pack_tag</td>
</tr>
<tr>
<td>Require a script</td>
<td>//= require</td>
<td>import or require</td>
</tr>
</tbody>
</table>
<h3 id="installing-webpacker"><a class="anchorlink" href="#installing-webpacker">2 Installing Webpacker</a></h3><p>To use Webpacker, you must install the Yarn package manager, version 1.x or up, and you must have Node.js installed, version 10.13.0 and up.</p><div class="note"><p>Webpacker depends on NPM and Yarn. NPM, the Node package manager registry, is the primary repository for publishing and downloading open-source JavaScript projects, both for Node.js and browser runtimes. It is analogous to rubygems.org for Ruby gems. Yarn is a command-line utility that enables the installation and management of JavaScript dependencies, much like Bundler does for Ruby.</p></div><p>To include Webpacker in a new project, add <code>--webpack</code> to the <code>rails new</code> command. To add Webpacker to an existing project, add the <code>webpacker</code> gem to the project's <code>Gemfile</code>, run <code>bundle install</code>, and then run <code>bin/rails webpacker:install</code>.</p><p>Installing Webpacker creates the following local files:</p>
<table>
<thead>
<tr>
<th>File</th>
<th>Location</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>JavaScript Folder</td>
<td><code>app/javascript</code></td>
<td>A place for your front-end source</td>
</tr>
<tr>
<td>Webpacker Configuration</td>
<td><code>config/webpacker.yml</code></td>
<td>Configure the Webpacker gem</td>
</tr>
<tr>
<td>Babel Configuration</td>
<td><code>babel.config.js</code></td>
<td>Configuration for the <a href="https://babeljs.io">Babel</a> JavaScript Compiler</td>
</tr>
<tr>
<td>PostCSS Configuration</td>
<td><code>postcss.config.js</code></td>
<td>Configuration for the <a href="https://postcss.org">PostCSS</a> CSS Post-Processor</td>
</tr>
<tr>
<td>Browserlist</td>
<td><code>.browserslistrc</code></td>
<td>
<a href="https://github.com/browserslist/browserslist">Browserlist</a> manages target browsers configuration</td>
</tr>
</tbody>
</table>
<p>The installation also calls the <code>yarn</code> package manager, creates a <code>package.json</code> file with a basic set of packages listed, and uses Yarn to install these dependencies.</p><h3 id="usage"><a class="anchorlink" href="#usage">3 Usage</a></h3><h4 id="using-webpacker-for-javascript"><a class="anchorlink" href="#using-webpacker-for-javascript">3.1 Using Webpacker for JavaScript</a></h4><p>With Webpacker installed, any JavaScript file in the <code>app/javascript/packs</code> directory will get compiled to its own pack file by default.</p><p>So if you have a file called <code>app/javascript/packs/application.js</code>, Webpacker will create a pack called <code>application</code>, and you can add it to your Rails application with the code <code>&lt;%= javascript_pack_tag "application" %&gt;</code>. With that in place, in development, Rails will recompile the <code>application.js</code> file every time it changes, and you load a page that uses that pack. Typically, the file in the actual <code>packs</code> directory will be a manifest that mostly loads other files, but it can also have arbitrary JavaScript code.</p><p>The default pack created for you by Webpacker will link to Rails' default JavaScript packages if they have been included in the project:</p><div class="code_container">
<pre><code class="highlight plaintext">import Rails from "@rails/ujs"
import Turbolinks from "turbolinks"
import * as ActiveStorage from "@rails/activestorage"
import "channels"

Rails.start()
Turbolinks.start()
ActiveStorage.start()
</code></pre>
<textarea class="clipboard-content" id="clipboard-10bd53ae5fdfbb484f1ba22ce85c8b23">import Rails from "@rails/ujs"
import Turbolinks from "turbolinks"
import * as ActiveStorage from "@rails/activestorage"
import "channels"

Rails.start()
Turbolinks.start()
ActiveStorage.start()
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-10bd53ae5fdfbb484f1ba22ce85c8b23">Copiar</button>
</div>
<p>You'll need to include a pack that requires these packages to use them in your Rails application.</p><p>It is important to note that only webpack entry files should be placed in the <code>app/javascript/packs</code> directory; Webpack will create a separate dependency graph for each entry point, so a large number of packs will increase compilation overhead. The rest of your asset source code should live outside this directory though Webpacker does not place any restrictions or make any suggestions on how to structure your source code. Here is an example:</p><div class="code_container">
<pre><code class="highlight sh">app/javascript:
  ├── packs:
  │   <span class="c"># only webpack entry files here</span>
  │   └── application.js
  │   └── application.css
  └── src:
  │   └── my_component.js
  └── stylesheets:
  │   └── my_styles.css
  └── images:
      └── logo.svg
</code></pre>
<textarea class="clipboard-content" id="clipboard-92d66b8aa60b3e602c7d6ab8515ec9e5">app/javascript:
  ├── packs:
  │   # only webpack entry files here
  │   └── application.js
  │   └── application.css
  └── src:
  │   └── my_component.js
  └── stylesheets:
  │   └── my_styles.css
  └── images:
      └── logo.svg
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-92d66b8aa60b3e602c7d6ab8515ec9e5">Copiar</button>
</div>
<p>Typically, the pack file itself is largely a manifest that uses <code>import</code> or <code>require</code> to load the necessary files and may also do some initialization.</p><p>If you want to change these directories, you can adjust the <code>source_path</code> (default <code>app/javascript</code>) and <code>source_entry_path</code> (default <code>packs</code>) in the <code>config/webpacker.yml</code> file.</p><p>Within source files, <code>import</code> statements are resolved relative to the file doing the import, so <code>import Bar from "./foo"</code> finds a <code>foo.js</code> file in the same directory as the current file, while <code>import Bar from "../src/foo"</code> finds a file in a sibling directory named <code>src</code>.</p><h4 id="using-webpacker-for-css"><a class="anchorlink" href="#using-webpacker-for-css">3.2 Using Webpacker for CSS</a></h4><p>Out of the box, Webpacker supports CSS and SCSS using the PostCSS processor.</p><p>To include CSS code in your packs, first include your CSS files in your top-level pack file as though it was a JavaScript file. So if your CSS top-level manifest is in <code>app/javascript/styles/styles.scss</code>, you can import it with <code>import styles/styles</code>. This tells webpack to include your CSS file in the download. To actually load it in the page, include <code>&lt;%= stylesheet_pack_tag "application" %&gt;</code> in the view, where the <code>application</code> is the same pack name that you were using.</p><p>If you are using a CSS framework, you can add it to Webpacker by following the instructions to load the framework as an NPM module using <code>yarn</code>, typically <code>yarn add &lt;framework&gt;</code>. The framework should have instructions on importing it into a CSS or SCSS file.</p><h4 id="using-webpacker-for-static-assets"><a class="anchorlink" href="#using-webpacker-for-static-assets">3.3 Using Webpacker for Static Assets</a></h4><p>The default Webpacker <a href="https://github.com/rails/webpacker/blob/master/lib/install/config/webpacker.yml#L21">configuration</a> should work out of the box for static assets.
The configuration includes several image and font file format extensions, allowing webpack to include them in the generated <code>manifest.json</code> file.</p><p>With webpack, static assets can be imported directly in JavaScript files. The imported value represents the URL to the asset. For example:</p><div class="code_container">
<pre><code class="highlight javascript"><span class="k">import</span> <span class="nx">myImageUrl</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../images/my-image.jpg</span><span class="dl">'</span>

<span class="c1">// ...</span>
<span class="kd">let</span> <span class="nx">myImage</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
<span class="nx">myImage</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">myImageUrl</span><span class="p">;</span>
<span class="nx">myImage</span><span class="p">.</span><span class="nx">alt</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">I'm a Webpacker-bundled image</span><span class="dl">"</span><span class="p">;</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">myImage</span><span class="p">);</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-a94091a6693e702c17cd496df4f7f72f">import myImageUrl from '../images/my-image.jpg'

// ...
let myImage = new Image();
myImage.src = myImageUrl;
myImage.alt = "I'm a Webpacker-bundled image";
document.body.appendChild(myImage);
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-a94091a6693e702c17cd496df4f7f72f">Copiar</button>
</div>
<p>If you need to reference Webpacker static assets from a Rails view, the assets need to be explicitly required from Webpacker-bundled JavaScript files. Unlike Sprockets, Webpacker does not import your static assets by default. The default <code>app/javascript/packs/application.js</code> file has a template for importing files from a given directory, which you can uncomment for every directory you want to have static files in. The directories are relative to <code>app/javascript</code>. The template uses the directory <code>images</code>, but you can use anything in <code>app/javascript</code>:</p><div class="code_container">
<pre><code class="highlight plaintext">const images = require.context("../images", true)
const imagePath = name =&gt; images(name, true)
</code></pre>
<textarea class="clipboard-content" id="clipboard-2dd3a472859a20a47e36ea34a90b879c">const images = require.context("../images", true)
const imagePath = name =&gt; images(name, true)
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-2dd3a472859a20a47e36ea34a90b879c">Copiar</button>
</div>
<p>Static assets will be output into a directory under <code>public/packs/media</code>. For example, an image located and imported at <code>app/javascript/images/my-image.jpg</code> will be output at <code>public/packs/media/images/my-image-abcd1234.jpg</code>. To render an image tag for this image in a Rails view, use <code>image_pack_tag 'media/images/my-image.jpg</code>.</p><p>The Webpacker ActionView helpers for static assets correspond to asset pipeline helpers according to the following table:</p>
<table>
<thead>
<tr>
<th>ActionView helper</th>
<th>Webpacker helper</th>
</tr>
</thead>
<tbody>
<tr>
<td>favicon_link_tag</td>
<td>favicon_pack_tag</td>
</tr>
<tr>
<td>image_tag</td>
<td>image_pack_tag</td>
</tr>
</tbody>
</table>
<p>Also, the generic helper <code>asset_pack_path</code> takes the local location of a file and returns its Webpacker location for use in Rails views.</p><p>You can also access the image by directly referencing the file from a CSS file in <code>app/javascript</code>.</p><h4 id="webpacker-in-rails-engines"><a class="anchorlink" href="#webpacker-in-rails-engines">3.4 Webpacker in Rails Engines</a></h4><p>As of Webpacker version 6, Webpacker is not "engine-aware," which means Webpacker does not have feature-parity with Sprockets when it comes to using within Rails engines.</p><p>Gem authors of Rails engines who wish to support consumers using Webpacker are encouraged to distribute frontend assets as an NPM package in addition to the gem itself and provide instructions (or an installer) to demonstrate how host apps should integrate. A good example of this approach is <a href="https://github.com/AlchemyCMS/alchemy_cms">Alchemy CMS</a>.</p><h4 id="hot-module-replacement-hmr"><a class="anchorlink" href="#hot-module-replacement-hmr">3.5 Hot Module Replacement (HMR)</a></h4><p>Webpacker out-of-the-box supports HMR with webpack-dev-server, and you can toggle it by setting dev_server/hmr option inside <code>webpacker.yml</code>.</p><p>Check out <a href="https://webpack.js.org/configuration/dev-server/#devserver-hot">webpack's documentation on DevServer</a> for more information.</p><p>To support HMR with React, you would need to add react-hot-loader. Check out <a href="https://gaearon.github.io/react-hot-loader/getstarted/">React Hot Loader's <em>Getting Started</em> guide</a>.</p><p>Don't forget to disable HMR if you are not running webpack-dev-server; otherwise, you will get a "not found error" for stylesheets.</p><h3 id="webpacker-in-different-environments"><a class="anchorlink" href="#webpacker-in-different-environments">4 Webpacker in Different Environments</a></h3><p>Webpacker has three environments by default <code>development</code>, <code>test</code>, and <code>production</code>. You can add additional environment configurations in the <code>webpacker.yml</code> file and set different defaults for each environment. Webpacker will also load the file <code>config/webpack/&lt;environment&gt;.js</code> for additional environment setup.</p><h3 id="running-webpacker-in-development"><a class="anchorlink" href="#running-webpacker-in-development">5 Running Webpacker in Development</a></h3><p>Webpacker ships with two binstub files to run in development: <code>./bin/webpack</code> and <code>./bin/webpack-dev-server</code>. Both are thin wrappers around the standard <code>webpack.js</code> and <code>webpack-dev-server.js</code> executables and ensure that the right configuration files and environmental variables are loaded based on your environment.</p><p>By default, Webpacker compiles automatically on demand in development when a Rails page loads. This means that you don't have to run any separate processes, and compilation errors will be logged to the standard Rails log. You can change this by changing to <code>compile: false</code> in the <code>config/webpacker.yml</code> file. Running <code>bin/webpack</code> will force the compilation of your packs.</p><p>If you want to use live code reloading or have enough JavaScript that on-demand compilation is too slow, you'll need to run <code>./bin/webpack-dev-server</code> or <code>ruby ./bin/webpack-dev-server</code>. This process will watch for changes in the <code>app/javascript/packs/*.js</code> files and automatically recompile and reload the browser to match.</p><p>Windows users will need to run these commands in a terminal separate from <code>bundle exec rails server</code>.</p><p>Once you start this development server, Webpacker will automatically start proxying all webpack asset requests to this server. When you stop the server, it'll revert to on-demand compilation.</p><p>The <a href="https://github.com/rails/webpacker">Webpacker Documentation</a> gives information on environment variables you can use to control <code>webpack-dev-server</code>. See additional notes in the <a href="https://github.com/rails/webpacker#development">rails/webpacker docs on the webpack-dev-server usage</a>.</p><h4 id="deploying-webpacker"><a class="anchorlink" href="#deploying-webpacker">5.1 Deploying Webpacker</a></h4><p>Webpacker adds a <code>webpacker:compile</code> task to the <code>assets:precompile</code> rake task, so any existing deploy pipeline that was using <code>assets:precompile</code> should work. The compile task will compile the packs and place them in <code>public/packs</code>.</p><h3 id="additional-documentation"><a class="anchorlink" href="#additional-documentation">6 Additional Documentation</a></h3><p>For more information on advanced topics, such as using Webpacker with popular frameworks, consult the <a href="https://github.com/rails/webpacker">Webpacker Documentation</a>.</p>

        <h3>Feedback</h3>
        <p>
          Você é incentivado a ajudar a melhorar a qualidade deste guia.
        </p>
        <p>
          Por favor, contribua caso veja quaisquer erros, inclusive erros de digitação.
          Para começar, você pode ler nossa sessão de <a href="https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation">contribuindo com a documentação</a>.
        </p>
        <p>
          Você também pode encontrar conteúdo incompleto ou coisas que não estão atualizadas.
          Por favor, adicione qualquer documentação em falta na main do Rails. Certifique-se de checar o
          <a href="http://edgeguides.rubyonrails.org">Edge Guides (en-US)</a> primeiro para verificar
          se o problema já foi resolvido ou não no branch main.
          Verifique as <a href="ruby_on_rails_guides_guidelines.html">Diretrizes do Guia Ruby on Rails</a>
          para estilo e convenções.
        </p>
        <p>
          Se, por qualquer motivo, você encontrar algo para consertar, mas não conseguir consertá-lo, por favor
          <a href="https://github.com/campuscode/rails-guides-pt-BR/issues">abra uma issue no nosso Guia</a>.
        </p>
        <p>
          E por último, mas não menos importante, qualquer tipo de discussão sobre a documentação do Ruby on Rails
          é muito bem vinda na <a href="https://discuss.rubyonrails.org/c/rubyonrails-docs">lista de discussão rubyonrails-docs</a> e nas
          <a href="https://github.com/campuscode/rails-guides-pt-BR/issues">issues do Guia em português</a>.
        </p>
      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <p> Este projeto está licenciado sob uma licença <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a></p>
<p>"Rails", "Ruby on Rails", e o logotipo Rails são marcas comerciais de David Heinemeier Hansson. Todos os direitos reservados.</p>

    </div>
  </div>
  <div id="toggle">
    <img alt="dark theme icon" class="icon">
  </div>
</body>
</html>
