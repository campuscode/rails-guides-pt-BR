<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ruby on Rails 7.0 Release Notes — Ruby on Rails Guides</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/style.css" data-turbolinks-track="reload">
  <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
  <link rel="stylesheet" type="text/css" href="stylesheets/highlight.css" data-turbolinks-track="reload">
  <link rel="stylesheet" type="text/css" href="stylesheets/search.css" data-turbolinks-track="reload">
  <link href="images/favicon.ico" rel="icon" type="image/x-icon" />
  <script src="javascripts/turbolinks.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/clipboard.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/guides.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/search.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/lunr-documents.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/lunr.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/toggle-theme.js" data-turbolinks-track="reload"></script>
  <meta property="og:title" content="Ruby on Rails 7.0 Release Notes — Ruby on Rails Guides" />
  <meta name="description" content="Ruby on Rails 7.0 Release NotesHighlights in Rails 7.0: Ruby 2.7.0+ required, Ruby 3.0+ preferred" />
  <meta property="og:description" content="Ruby on Rails 7.0 Release NotesHighlights in Rails 7.0: Ruby 2.7.0+ required, Ruby 3.0+ preferred" />
  <meta property="og:locale" content="pt_BR" />
  <meta property="og:site_name" content="Guia Ruby on Rails" />
  <meta property="og:image" content="https://avatars.githubusercontent.com/u/4223" />
  <meta property="og:type" content="website" />
</head>
<body class="guide">
  <div>
    <div id="version-badge">v7.0.8</div>
  </div>
  <div id="topNav">
    <div class="wrapper">
      <strong class="more-info-label">Veja mais em <a href="https://rubyonrails.org/">rubyonrails.org:</a> </strong>
      <span class="red-button more-info-button">
        Mais Ruby on Rails
      </span>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="https://rubyonrails.org/blog">Blog</a></li>
        <li class="more-info"><a href="https://guides.rubyonrails.org/">Guia oficial</a></li>
        <li class="more-info"><a href="https://api.rubyonrails.org/">API</a></li>
        <li class="more-info"><a href="https://discuss.rubyonrails.org/">Forum</a></li>
        <li class="more-info"><a href="https://github.com/rails/rails">Contribua no GitHub</a></li>
      </ul>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="index.html" title="Voltar para a página principal">Guiarails.com.br</a></h1>
      <ul class="nav">
        <li><a class="nav-item" href="index.html">Home</a></li>
        <li class="guides-search guides-search-large">
          <input class="search-box search-box-large nav-item" type="text" placeholder="Digite o termo...">
          <div class="search-results"></div>
          <div class="search-spinner">Aguarde...</div>
        </li>
        <li class="guides-index guides-index-large">
          <a href="index.html" id="guidesMenu" class="guides-index-item nav-item">Guias</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
            <dl class="guides-section-container">
                <div class="guides-section">
                  <dt>Comece aqui</dt>
                  <dd><a href="getting_started.html">Começando com Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Models</dt>
                  <dd><a href="active_record_basics.html">Active Record Basics</a></dd>
                  <dd><a href="active_record_migrations.html">Active Record Migrations</a></dd>
                  <dd><a href="active_record_validations.html">Active Record Validations</a></dd>
                  <dd><a href="active_record_callbacks.html">Active Record Callbacks</a></dd>
                  <dd><a href="association_basics.html">Active Record Associations</a></dd>
                  <dd><a href="active_record_querying.html">Active Record Query Interface</a></dd>
                  <dd><a href="active_model_basics.html">Active Model Basics</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Views</dt>
                  <dd><a href="action_view_overview.html">Action View Overview</a></dd>
                  <dd><a href="layouts_and_rendering.html">Layouts and Rendering in Rails</a></dd>
                  <dd><a href="action_view_helpers.html">Action View Helpers</a></dd>
                  <dd><a href="form_helpers.html">Action View Form Helpers</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Controllers</dt>
                  <dd><a href="action_controller_overview.html">Action Controller Overview</a></dd>
                  <dd><a href="routing.html">Rails Routing from the Outside In</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Outros componentes</dt>
                  <dd><a href="active_support_core_extensions.html">Active Support Core Extensions</a></dd>
                  <dd><a href="action_mailer_basics.html">Action Mailer Basics</a></dd>
                  <dd><a href="action_mailbox_basics.html">Action Mailbox Basics</a></dd>
                  <dd><a href="action_text_overview.html">Action Text Overview</a></dd>
                  <dd><a href="active_job_basics.html">Active Job Basics</a></dd>
                  <dd><a href="active_storage_overview.html">Active Storage Overview</a></dd>
                  <dd><a href="action_cable_overview.html">Action Cable Overview</a></dd>
                  <dd><a href="webpacker.html">Webpacker</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Indo mais fundo</dt>
                  <dd><a href="i18n.html">Rails Internationalization (I18n) API</a></dd>
                  <dd><a href="testing.html">Testing Rails Applications</a></dd>
                  <dd><a href="security.html">Securing Rails Applications</a></dd>
                  <dd><a href="debugging_rails_applications.html">Debugging Rails Applications</a></dd>
                  <dd><a href="configuring.html">Configuring Rails Applications</a></dd>
                  <dd><a href="command_line.html">The Rails Command Line</a></dd>
                  <dd><a href="asset_pipeline.html">The Asset Pipeline</a></dd>
                  <dd><a href="working_with_javascript_in_rails.html">Working with JavaScript in Rails</a></dd>
                  <dd><a href="initialization.html">The Rails Initialization Process</a></dd>
                  <dd><a href="autoloading_and_reloading_constants.html">Autoloading and Reloading Constants</a></dd>
                  <dd><a href="classic_to_zeitwerk_howto.html">Classic para Zeitwerk - Como Fazer</a></dd>
                  <dd><a href="caching_with_rails.html">Caching with Rails: An Overview</a></dd>
                  <dd><a href="active_support_instrumentation.html">Active Support Instrumentation</a></dd>
                  <dd><a href="api_app.html">Using Rails for API-only Applications</a></dd>
                  <dd><a href="active_record_postgresql.html">Active Record and PostgreSQL</a></dd>
                  <dd><a href="active_record_multiple_databases.html">Multiple Databases with Active Record</a></dd>
                  <dd><a href="active_record_encryption.html">Active Record Encryption</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Estendendo o Rails</dt>
                  <dd><a href="plugins.html">The Basics of Creating Rails Plugins</a></dd>
                  <dd><a href="rails_on_rack.html">Rails on Rack</a></dd>
                  <dd><a href="generators.html">Creating and Customizing Rails Generators &amp; Templates</a></dd>
                  <dd><a href="engines.html">Getting Started with Engines</a></dd>
                  <dd><a href="threading_and_code_execution.html">Threading and Code Execution in Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Contribuições</dt>
                  <dd><a href="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</a></dd>
                  <dd><a href="api_documentation_guidelines.html">API Documentation Guidelines</a></dd>
                  <dd><a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Políticas</dt>
                  <dd><a href="maintenance_policy.html">Maintenance Policy for Ruby on Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Release Notes</dt>
                  <dd><a href="upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</a></dd>
                  <dd><a href="7_0_release_notes.html">Version 7.0 - Dezembro 2021</a></dd>
                  <dd><a href="6_1_release_notes.html">Version 6.1 - Dezembro 2020</a></dd>
                  <dd><a href="6_0_release_notes.html">Version 6.0 - Agosto 2019</a></dd>
                  <dd><a href="5_2_release_notes.html">Version 5.2 - April 2018</a></dd>
                  <dd><a href="5_1_release_notes.html">Version 5.1 - April 2017</a></dd>
                  <dd><a href="5_0_release_notes.html">Version 5.0 - June 2016</a></dd>
                  <dd><a href="4_2_release_notes.html">Version 4.2 - December 2014</a></dd>
                  <dd><a href="4_1_release_notes.html">Version 4.1 - April 2014</a></dd>
                  <dd><a href="4_0_release_notes.html">Version 4.0 - June 2013</a></dd>
                  <dd><a href="3_2_release_notes.html">Version 3.2 - January 2012</a></dd>
                  <dd><a href="3_1_release_notes.html">Version 3.1 - August 2011</a></dd>
                  <dd><a href="3_0_release_notes.html">Version 3.0 - August 2010</a></dd>
                  <dd><a href="2_3_release_notes.html">Version 2.3 - March 2009</a></dd>
                  <dd><a href="2_2_release_notes.html">Version 2.2 - November 2008</a></dd>
                </div>
            </div>
          </dl>
        </li>
        <li><a class="nav-item" href="contributing_to_ruby_on_rails.html">Contribua</a></li>
        <li class="guides-search guides-search-small">
          <input class="search-box search-box-small nav-item" type="text" placeholder="Digite o termo...">
          <div class="search-results"></div>
          <div class="search-spinner">Aguarde...</div>
        </li>
        <li class="guides-index guides-index-small">
          <select class="guides-index-item nav-item">
            <option value="index.html">Guias</option>
              <optgroup label="Comece aqui">
                  <option value="getting_started.html">Começando com Rails</option>
              </optgroup>
              <optgroup label="Models">
                  <option value="active_record_basics.html">Active Record Basics</option>
                  <option value="active_record_migrations.html">Active Record Migrations</option>
                  <option value="active_record_validations.html">Active Record Validations</option>
                  <option value="active_record_callbacks.html">Active Record Callbacks</option>
                  <option value="association_basics.html">Active Record Associations</option>
                  <option value="active_record_querying.html">Active Record Query Interface</option>
                  <option value="active_model_basics.html">Active Model Basics</option>
              </optgroup>
              <optgroup label="Views">
                  <option value="action_view_overview.html">Action View Overview</option>
                  <option value="layouts_and_rendering.html">Layouts and Rendering in Rails</option>
                  <option value="action_view_helpers.html">Action View Helpers</option>
                  <option value="form_helpers.html">Action View Form Helpers</option>
              </optgroup>
              <optgroup label="Controllers">
                  <option value="action_controller_overview.html">Action Controller Overview</option>
                  <option value="routing.html">Rails Routing from the Outside In</option>
              </optgroup>
              <optgroup label="Outros componentes">
                  <option value="active_support_core_extensions.html">Active Support Core Extensions</option>
                  <option value="action_mailer_basics.html">Action Mailer Basics</option>
                  <option value="action_mailbox_basics.html">Action Mailbox Basics</option>
                  <option value="action_text_overview.html">Action Text Overview</option>
                  <option value="active_job_basics.html">Active Job Basics</option>
                  <option value="active_storage_overview.html">Active Storage Overview</option>
                  <option value="action_cable_overview.html">Action Cable Overview</option>
                  <option value="webpacker.html">Webpacker</option>
              </optgroup>
              <optgroup label="Indo mais fundo">
                  <option value="i18n.html">Rails Internationalization (I18n) API</option>
                  <option value="testing.html">Testing Rails Applications</option>
                  <option value="security.html">Securing Rails Applications</option>
                  <option value="debugging_rails_applications.html">Debugging Rails Applications</option>
                  <option value="configuring.html">Configuring Rails Applications</option>
                  <option value="command_line.html">The Rails Command Line</option>
                  <option value="asset_pipeline.html">The Asset Pipeline</option>
                  <option value="working_with_javascript_in_rails.html">Working with JavaScript in Rails</option>
                  <option value="initialization.html">The Rails Initialization Process</option>
                  <option value="autoloading_and_reloading_constants.html">Autoloading and Reloading Constants</option>
                  <option value="classic_to_zeitwerk_howto.html">Classic para Zeitwerk - Como Fazer</option>
                  <option value="caching_with_rails.html">Caching with Rails: An Overview</option>
                  <option value="active_support_instrumentation.html">Active Support Instrumentation</option>
                  <option value="api_app.html">Using Rails for API-only Applications</option>
                  <option value="active_record_postgresql.html">Active Record and PostgreSQL</option>
                  <option value="active_record_multiple_databases.html">Multiple Databases with Active Record</option>
                  <option value="active_record_encryption.html">Active Record Encryption</option>
              </optgroup>
              <optgroup label="Estendendo o Rails">
                  <option value="plugins.html">The Basics of Creating Rails Plugins</option>
                  <option value="rails_on_rack.html">Rails on Rack</option>
                  <option value="generators.html">Creating and Customizing Rails Generators &amp; Templates</option>
                  <option value="engines.html">Getting Started with Engines</option>
                  <option value="threading_and_code_execution.html">Threading and Code Execution in Rails</option>
              </optgroup>
              <optgroup label="Contribuições">
                  <option value="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</option>
                  <option value="api_documentation_guidelines.html">API Documentation Guidelines</option>
                  <option value="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</option>
              </optgroup>
              <optgroup label="Políticas">
                  <option value="maintenance_policy.html">Maintenance Policy for Ruby on Rails</option>
              </optgroup>
              <optgroup label="Release Notes">
                  <option value="upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</option>
                  <option value="7_0_release_notes.html">Version 7.0 - Dezembro 2021</option>
                  <option value="6_1_release_notes.html">Version 6.1 - Dezembro 2020</option>
                  <option value="6_0_release_notes.html">Version 6.0 - Agosto 2019</option>
                  <option value="5_2_release_notes.html">Version 5.2 - April 2018</option>
                  <option value="5_1_release_notes.html">Version 5.1 - April 2017</option>
                  <option value="5_0_release_notes.html">Version 5.0 - June 2016</option>
                  <option value="4_2_release_notes.html">Version 4.2 - December 2014</option>
                  <option value="4_1_release_notes.html">Version 4.1 - April 2014</option>
                  <option value="4_0_release_notes.html">Version 4.0 - June 2013</option>
                  <option value="3_2_release_notes.html">Version 3.2 - January 2012</option>
                  <option value="3_1_release_notes.html">Version 3.1 - August 2011</option>
                  <option value="3_0_release_notes.html">Version 3.0 - August 2010</option>
                  <option value="2_3_release_notes.html">Version 2.3 - March 2009</option>
                  <option value="2_2_release_notes.html">Version 2.2 - November 2008</option>
              </optgroup>
          </select>
        </li>
      </ul>
    </div>
  </div>
  <hr class="hide" />

  <div id="feature">
    <div class="wrapper">
      <h2>Ruby on Rails 7.0 Release Notes</h2><p>Highlights in Rails 7.0:</p>
<ul>
<li>Ruby 2.7.0+ required, Ruby 3.0+ preferred</li>
</ul>


                <div id="subCol">
            <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
            <ol class="chapters">
<li><a href="#upgrading-to-rails-7-0">Upgrading to Rails 7.0</a></li>
<li><a href="#major-features">Major Features</a></li>
<li>
<a href="#railties">Railties</a>

<ul>
<li><a href="#railties-removals">Removals</a></li>
<li><a href="#railties-deprecations">Deprecations</a></li>
<li><a href="#railties-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#action-cable">Action Cable</a>

<ul>
<li><a href="#action-cable-removals">Removals</a></li>
<li><a href="#action-cable-deprecations">Deprecations</a></li>
<li><a href="#action-cable-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#action-pack">Action Pack</a>

<ul>
<li><a href="#action-pack-removals">Removals</a></li>
<li><a href="#action-pack-deprecations">Deprecations</a></li>
<li><a href="#action-pack-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#action-view">Action View</a>

<ul>
<li><a href="#action-view-removals">Removals</a></li>
<li><a href="#action-view-deprecations">Deprecations</a></li>
<li><a href="#action-view-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#action-mailer">Action Mailer</a>

<ul>
<li><a href="#action-mailer-removals">Removals</a></li>
<li><a href="#action-mailer-deprecations">Deprecations</a></li>
<li><a href="#action-mailer-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#active-record">Active Record</a>

<ul>
<li><a href="#active-record-removals">Removals</a></li>
<li><a href="#active-record-deprecations">Deprecations</a></li>
<li><a href="#active-record-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#active-storage">Active Storage</a>

<ul>
<li><a href="#active-storage-removals">Removals</a></li>
<li><a href="#active-storage-deprecations">Deprecations</a></li>
<li><a href="#active-storage-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#active-model">Active Model</a>

<ul>
<li><a href="#active-model-removals">Removals</a></li>
<li><a href="#active-model-deprecations">Deprecations</a></li>
<li><a href="#active-model-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#active-support">Active Support</a>

<ul>
<li><a href="#active-support-removals">Removals</a></li>
<li><a href="#active-support-deprecations">Deprecations</a></li>
<li><a href="#active-support-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#active-job">Active Job</a>

<ul>
<li><a href="#active-job-removals">Removals</a></li>
<li><a href="#active-job-deprecations">Deprecations</a></li>
<li><a href="#active-job-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#action-text">Action Text</a>

<ul>
<li><a href="#action-text-removals">Removals</a></li>
<li><a href="#action-text-deprecations">Deprecations</a></li>
<li><a href="#action-text-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#action-mailbox">Action Mailbox</a>

<ul>
<li><a href="#action-mailbox-removals">Removals</a></li>
<li><a href="#action-mailbox-deprecations">Deprecations</a></li>
<li><a href="#action-mailbox-notable-changes">Notable changes</a></li>
</ul>
</li>
<li>
<a href="#ruby-on-rails-guides">Ruby on Rails Guides</a>

<ul>
<li><a href="#notable-changes">Notable changes</a></li>
</ul>
</li>
<li><a href="#credits">Credits</a></li>
</ol>

          </div>

    </div>
  </div>

  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <h3 id="upgrading-to-rails-7-0"><a class="anchorlink" href="#upgrading-to-rails-7-0">1 Upgrading to Rails 7.0</a></h3><p>If you're upgrading an existing application, it's a great idea to have good test
coverage before going in. You should also first upgrade to Rails 6.1 in case you
haven't and make sure your application still runs as expected before attempting
an update to Rails 7.0. A list of things to watch out for when upgrading is
available in the
<a href="upgrading_ruby_on_rails.html#upgrading-from-rails-6-1-to-rails-7-0">Upgrading Ruby on Rails</a>
guide.</p><h3 id="major-features"><a class="anchorlink" href="#major-features">2 Major Features</a></h3><h3 id="railties"><a class="anchorlink" href="#railties">3 Railties</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/railties/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="railties-removals"><a class="anchorlink" href="#railties-removals">3.1 Removals</a></h4>
<ul>
<li>  Remove deprecated <code>config</code> in <code>dbconsole</code>.</li>
</ul>
<h4 id="railties-deprecations"><a class="anchorlink" href="#railties-deprecations">3.2 Deprecations</a></h4><h4 id="railties-notable-changes"><a class="anchorlink" href="#railties-notable-changes">3.3 Notable changes</a></h4>
<ul>
<li>
<p>  Sprockets is now an optional dependency</p>
<p>The gem <code>rails</code> doesn't depend on <code>sprockets-rails</code> anymore. If your application still needs to use Sprockets,
make sure to add <code>sprockets-rails</code> to your Gemfile.</p>
<div class="code_container">
<pre><code class="highlight plaintext">gem "sprockets-rails"
</code></pre>
<button class="clipboard-button" data-clipboard-text='gem "sprockets-rails"
'>Copy</button>
</div>
</li>
</ul>
<h3 id="action-cable"><a class="anchorlink" href="#action-cable">4 Action Cable</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actioncable/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="action-cable-removals"><a class="anchorlink" href="#action-cable-removals">4.1 Removals</a></h4><h4 id="action-cable-deprecations"><a class="anchorlink" href="#action-cable-deprecations">4.2 Deprecations</a></h4><h4 id="action-cable-notable-changes"><a class="anchorlink" href="#action-cable-notable-changes">4.3 Notable changes</a></h4><h3 id="action-pack"><a class="anchorlink" href="#action-pack">5 Action Pack</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actionpack/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="action-pack-removals"><a class="anchorlink" href="#action-pack-removals">5.1 Removals</a></h4>
<ul>
<li><p>  Remove deprecated <code>ActionDispatch::Response.return_only_media_type_on_content_type</code>.</p></li>
<li><p>  Remove deprecated <code>Rails.config.action_dispatch.hosts_response_app</code>.</p></li>
<li><p>  Remove deprecated <code>ActionDispatch::SystemTestCase#host!</code>.</p></li>
<li><p>  Remove deprecated support to passing a path to <code>fixture_file_upload</code> relative to <code>fixture_path</code>.</p></li>
</ul>
<h4 id="action-pack-deprecations"><a class="anchorlink" href="#action-pack-deprecations">5.2 Deprecations</a></h4><h4 id="action-pack-notable-changes"><a class="anchorlink" href="#action-pack-notable-changes">5.3 Notable changes</a></h4><h3 id="action-view"><a class="anchorlink" href="#action-view">6 Action View</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actionview/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="action-view-removals"><a class="anchorlink" href="#action-view-removals">6.1 Removals</a></h4>
<ul>
<li>  Remove deprecated <code>Rails.config.action_view.raise_on_missing_translations</code>.</li>
</ul>
<h4 id="action-view-deprecations"><a class="anchorlink" href="#action-view-deprecations">6.2 Deprecations</a></h4><h4 id="action-view-notable-changes"><a class="anchorlink" href="#action-view-notable-changes">6.3 Notable changes</a></h4>
<ul>
<li>
<p> <code>button_to</code> infers HTTP verb [method] from an Active Record object if object is used to build URL</p>
<div class="code_container">
<pre><code class="highlight ruby"><span class="n">button_to</span><span class="p">(</span><span class="s2">"Do a POST"</span><span class="p">,</span> <span class="p">[</span><span class="ss">:do_post_action</span><span class="p">,</span> <span class="no">Workshop</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)])</span>
<span class="c1"># Before</span>
<span class="c1">#=&gt;   &lt;input type="hidden" name="_method" value="post" autocomplete="off" /&gt;</span>
<span class="c1"># After</span>
<span class="c1">#=&gt;   &lt;input type="hidden" name="_method" value="patch" autocomplete="off" /&gt;</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text='button_to("Do a POST", [:do_post_action, Workshop.find(1)])
# Before
#=&gt;   &lt;input type="hidden" name="_method" value="post" autocomplete="off" /&gt;
# After
#=&gt;   &lt;input type="hidden" name="_method" value="patch" autocomplete="off" /&gt;
'>Copy</button>
</div>
</li>
</ul>
<h3 id="action-mailer"><a class="anchorlink" href="#action-mailer">7 Action Mailer</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actionmailer/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="action-mailer-removals"><a class="anchorlink" href="#action-mailer-removals">7.1 Removals</a></h4>
<ul>
<li>  Remove deprecated <code>ActionMailer::DeliveryJob</code> and <code>ActionMailer::Parameterized::DeliveryJob</code>
in favor of <code>ActionMailer::MailDeliveryJob</code>.</li>
</ul>
<h4 id="action-mailer-deprecations"><a class="anchorlink" href="#action-mailer-deprecations">7.2 Deprecations</a></h4><h4 id="action-mailer-notable-changes"><a class="anchorlink" href="#action-mailer-notable-changes">7.3 Notable changes</a></h4><h3 id="active-record"><a class="anchorlink" href="#active-record">8 Active Record</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/activerecord/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="active-record-removals"><a class="anchorlink" href="#active-record-removals">8.1 Removals</a></h4>
<ul>
<li><p>  Remove deprecated <code>database</code> kwarg from <code>connected_to</code>.</p></li>
<li><p>  Remove deprecated  <code>ActiveRecord::Base.allow_unsafe_raw_sql</code>.</p></li>
<li><p>  Remove deprecated option <code>:spec_name</code> in the <code>configs_for</code> method.</p></li>
<li><p>  Remove deprecated support to YAML load <code>ActiveRecord::Base</code> instance in the Rails 4.2 and 4.1 formats.</p></li>
<li>
<p>  Remove deprecation warning when <code>:interval</code> column is used in PostgreSQL database.</p>
<p>Now, interval columns will return <code>ActiveSupport::Duration</code> objects instead of strings.</p>
<p>To keep the old behavior, you can add this line to your model:</p>
<div class="code_container">
<pre><code class="highlight ruby"><span class="n">attribute</span> <span class="ss">:column</span><span class="p">,</span> <span class="ss">:string</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="attribute :column, :string
">Copy</button>
</div>
</li>
<li><p>  Remove deprecated support to resolve connection using <code>"primary"</code> as connection specification name.</p></li>
<li><p>  Remove deprecated support to quote <code>ActiveRecord::Base</code> objects.</p></li>
<li><p>  Remove deprecated support to type cast to database values <code>ActiveRecord::Base</code> objects.</p></li>
<li><p>  Remove deprecated support to pass a column to <code>type_cast</code>.</p></li>
<li><p>  Remove deprecated <code>DatabaseConfig#config</code> method.</p></li>
<li>
<p>  Remove deprecated rake tasks:</p>
<ul>
<li><code>db:schema:load_if_ruby</code></li>
<li><code>db:structure:dump</code></li>
<li><code>db:structure:load</code></li>
<li><code>db:structure:load_if_sql</code></li>
<li><code>db:structure:dump:#{name}</code></li>
<li><code>db:structure:load:#{name}</code></li>
<li><code>db:test:load_structure</code></li>
<li><code>db:test:load_structure:#{name}</code></li>
</ul>
</li>
<li><p>  Remove deprecated support to <code>Model.reorder(nil).first</code> to search using non-deterministic order.</p></li>
<li><p>  Remove deprecated <code>environment</code> and <code>name</code> arguments from <code>Tasks::DatabaseTasks.schema_up_to_date?</code>.</p></li>
<li><p>  Remove deprecated <code>Tasks::DatabaseTasks.dump_filename</code>.</p></li>
<li><p>  Remove deprecated <code>Tasks::DatabaseTasks.schema_file</code>.</p></li>
<li><p>  Remove deprecated <code>Tasks::DatabaseTasks.spec</code>.</p></li>
<li><p>  Remove deprecated <code>Tasks::DatabaseTasks.current_config</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveRecord::Connection#allowed_index_name_length</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveRecord::Connection#in_clause_length</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveRecord::DatabaseConfigurations::DatabaseConfig#spec_name</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveRecord::Base.connection_config</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveRecord::Base.arel_attribute</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveRecord::Base.configurations.default_hash</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveRecord::Base.configurations.to_h</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveRecord::Result#map!</code> and <code>ActiveRecord::Result#collect!</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveRecord::Base#remove_connection</code>.</p></li>
</ul>
<h4 id="active-record-deprecations"><a class="anchorlink" href="#active-record-deprecations">8.2 Deprecations</a></h4>
<ul>
<li>  Deprecated <code>Tasks::DatabaseTasks.schema_file_type</code>.</li>
</ul>
<h4 id="active-record-notable-changes"><a class="anchorlink" href="#active-record-notable-changes">8.3 Notable changes</a></h4>
<ul>
<li>
<p>  Rollback transactions when the block returns earlier than expected.</p>
<p>Before this change, when a transaction block returned early, the transaction would be committed.</p>
<p>The problem is that timeouts triggered inside the transaction block was also making the incomplete transaction
to be committed, so in order to avoid this mistake, the transaction block is rolled back.</p>
</li>
<li>
<p>  Merging conditions on the same column no longer maintain both conditions,
and will be consistently replaced by the latter condition.</p>
<div class="code_container">
<pre><code class="highlight ruby"><span class="c1"># Rails 6.1 (IN clause is replaced by merger side equality condition)</span>
<span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="p">[</span><span class="n">david</span><span class="p">.</span><span class="nf">id</span><span class="p">,</span> <span class="n">mary</span><span class="p">.</span><span class="nf">id</span><span class="p">]).</span><span class="nf">merge</span><span class="p">(</span><span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">bob</span><span class="p">))</span> <span class="c1"># =&gt; [bob]</span>
<span class="c1"># Rails 6.1 (both conflict conditions exists, deprecated)</span>
<span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">david</span><span class="p">.</span><span class="nf">id</span><span class="o">..</span><span class="n">mary</span><span class="p">.</span><span class="nf">id</span><span class="p">).</span><span class="nf">merge</span><span class="p">(</span><span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">bob</span><span class="p">))</span> <span class="c1"># =&gt; []</span>
<span class="c1"># Rails 6.1 with rewhere to migrate to Rails 7.0's behavior</span>
<span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">david</span><span class="p">.</span><span class="nf">id</span><span class="o">..</span><span class="n">mary</span><span class="p">.</span><span class="nf">id</span><span class="p">).</span><span class="nf">merge</span><span class="p">(</span><span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">bob</span><span class="p">),</span> <span class="ss">rewhere: </span><span class="kp">true</span><span class="p">)</span> <span class="c1"># =&gt; [bob]</span>
<span class="c1"># Rails 7.0 (same behavior with IN clause, mergee side condition is consistently replaced)</span>
<span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="p">[</span><span class="n">david</span><span class="p">.</span><span class="nf">id</span><span class="p">,</span> <span class="n">mary</span><span class="p">.</span><span class="nf">id</span><span class="p">]).</span><span class="nf">merge</span><span class="p">(</span><span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">bob</span><span class="p">))</span> <span class="c1"># =&gt; [bob]</span>
<span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">david</span><span class="p">.</span><span class="nf">id</span><span class="o">..</span><span class="n">mary</span><span class="p">.</span><span class="nf">id</span><span class="p">).</span><span class="nf">merge</span><span class="p">(</span><span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">bob</span><span class="p">))</span> <span class="c1"># =&gt; [bob]</span>
</code></pre>
<button class="clipboard-button" data-clipboard-text="# Rails 6.1 (IN clause is replaced by merger side equality condition)
Author.where(id: [david.id, mary.id]).merge(Author.where(id: bob)) # =&gt; [bob]
# Rails 6.1 (both conflict conditions exists, deprecated)
Author.where(id: david.id..mary.id).merge(Author.where(id: bob)) # =&gt; []
# Rails 6.1 with rewhere to migrate to Rails 7.0's behavior
Author.where(id: david.id..mary.id).merge(Author.where(id: bob), rewhere: true) # =&gt; [bob]
# Rails 7.0 (same behavior with IN clause, mergee side condition is consistently replaced)
Author.where(id: [david.id, mary.id]).merge(Author.where(id: bob)) # =&gt; [bob]
Author.where(id: david.id..mary.id).merge(Author.where(id: bob)) # =&gt; [bob]
">Copy</button>
</div>
</li>
</ul>
<h3 id="active-storage"><a class="anchorlink" href="#active-storage">9 Active Storage</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/activestorage/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="active-storage-removals"><a class="anchorlink" href="#active-storage-removals">9.1 Removals</a></h4><h4 id="active-storage-deprecations"><a class="anchorlink" href="#active-storage-deprecations">9.2 Deprecations</a></h4><h4 id="active-storage-notable-changes"><a class="anchorlink" href="#active-storage-notable-changes">9.3 Notable changes</a></h4><h3 id="active-model"><a class="anchorlink" href="#active-model">10 Active Model</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/activemodel/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="active-model-removals"><a class="anchorlink" href="#active-model-removals">10.1 Removals</a></h4>
<ul>
<li><p>  Remove deprecated enumeration of <code>ActiveModel::Errors</code> instances as a Hash.</p></li>
<li><p>  Remove deprecated <code>ActiveModel::Errors#to_h</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveModel::Errors#slice!</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveModel::Errors#values</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveModel::Errors#keys</code>.</p></li>
<li><p>  Remove deprecated <code>ActiveModel::Errors#to_xml</code>.</p></li>
<li><p>  Remove deprecated support concat errors to <code>ActiveModel::Errors#messages</code>.</p></li>
<li><p>  Remove deprecated support to <code>clear</code> errors from <code>ActiveModel::Errors#messages</code>.</p></li>
<li><p>  Remove deprecated support to <code>delete</code> errors from <code>ActiveModel::Errors#messages</code>.</p></li>
<li><p>  Remove deprecated support to use <code>[]=</code> in <code>ActiveModel::Errors#messages</code>.</p></li>
<li><p>  Remove support to Marshal and YAML load Rails 5.x error format.</p></li>
<li><p>  Remove support to Marshal load Rails 5.x <code>ActiveModel::AttributeSet</code> format.</p></li>
</ul>
<h4 id="active-model-deprecations"><a class="anchorlink" href="#active-model-deprecations">10.2 Deprecations</a></h4><h4 id="active-model-notable-changes"><a class="anchorlink" href="#active-model-notable-changes">10.3 Notable changes</a></h4><h3 id="active-support"><a class="anchorlink" href="#active-support">11 Active Support</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/activesupport/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="active-support-removals"><a class="anchorlink" href="#active-support-removals">11.1 Removals</a></h4>
<ul>
<li><p>  Remove deprecated <code>config.active_support.use_sha1_digests</code>.</p></li>
<li><p>  Remove deprecated <code>URI.parser</code>.</p></li>
<li><p>  Remove deprecated support to use <code>Range#include?</code> to check the inclusion of a value in
a date time range is deprecated.</p></li>
<li><p>  Remove deprecated <code>ActiveSupport::Multibyte::Unicode.default_normalization_form</code>.</p></li>
</ul>
<h4 id="active-support-deprecations"><a class="anchorlink" href="#active-support-deprecations">11.2 Deprecations</a></h4>
<ul>
<li>
<p>  Deprecate passing a format to <code>#to_s</code> in favor of <code>#to_fs</code> in <code>Array</code>, <code>Range</code>, <code>Date</code>, <code>DateTime</code>, <code>Time</code>,
<code>BigDecimal</code>, <code>Float</code> and, <code>Integer</code>.</p>
<p>This deprecation is to allow Rails application to take advantage of a Ruby 3.1
<a href="https://github.com/ruby/ruby/commit/b08dacfea39ad8da3f1fd7fdd0e4538cc892ec44">optimization</a> that makes
interpolation of some types of objects faster.</p>
<p>New applications will not have the <code>#to_s</code> method overridden on those classes, existing applications can use
<code>config.active_support.disable_to_s_conversion</code>.</p>
</li>
</ul>
<h4 id="active-support-notable-changes"><a class="anchorlink" href="#active-support-notable-changes">11.3 Notable changes</a></h4><h3 id="active-job"><a class="anchorlink" href="#active-job">12 Active Job</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/activejob/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="active-job-removals"><a class="anchorlink" href="#active-job-removals">12.1 Removals</a></h4>
<ul>
<li><p>  Removed deprecated behavior that was not halting <code>after_enqueue</code>/<code>after_perform</code> callbacks when a
previous callback was halted with <code>throw :abort</code>.</p></li>
<li><p>  Remove deprecated <code>:return_false_on_aborted_enqueue</code> option.</p></li>
</ul>
<h4 id="active-job-deprecations"><a class="anchorlink" href="#active-job-deprecations">12.2 Deprecations</a></h4>
<ul>
<li>  Deprecated <code>Rails.config.active_job.skip_after_callbacks_if_terminated</code>.</li>
</ul>
<h4 id="active-job-notable-changes"><a class="anchorlink" href="#active-job-notable-changes">12.3 Notable changes</a></h4><h3 id="action-text"><a class="anchorlink" href="#action-text">13 Action Text</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actiontext/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="action-text-removals"><a class="anchorlink" href="#action-text-removals">13.1 Removals</a></h4><h4 id="action-text-deprecations"><a class="anchorlink" href="#action-text-deprecations">13.2 Deprecations</a></h4><h4 id="action-text-notable-changes"><a class="anchorlink" href="#action-text-notable-changes">13.3 Notable changes</a></h4><h3 id="action-mailbox"><a class="anchorlink" href="#action-mailbox">14 Action Mailbox</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actionmailbox/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="action-mailbox-removals"><a class="anchorlink" href="#action-mailbox-removals">14.1 Removals</a></h4>
<ul>
<li><p>  Removed deprecated <code>Rails.application.credentials.action_mailbox.mailgun_api_key</code>.</p></li>
<li><p>  Removed deprecated environment variable <code>MAILGUN_INGRESS_API_KEY</code>.</p></li>
</ul>
<h4 id="action-mailbox-deprecations"><a class="anchorlink" href="#action-mailbox-deprecations">14.2 Deprecations</a></h4><h4 id="action-mailbox-notable-changes"><a class="anchorlink" href="#action-mailbox-notable-changes">14.3 Notable changes</a></h4><h3 id="ruby-on-rails-guides"><a class="anchorlink" href="#ruby-on-rails-guides">15 Ruby on Rails Guides</a></h3><p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/guides/CHANGELOG.md">Changelog</a> for detailed changes.</p><h4 id="notable-changes"><a class="anchorlink" href="#notable-changes">15.1 Notable changes</a></h4><h3 id="credits"><a class="anchorlink" href="#credits">16 Credits</a></h3><p>See the
<a href="https://contributors.rubyonrails.org/">full list of contributors to Rails</a>
for the many people who spent many hours making Rails, the stable and robust
framework it is. Kudos to all of them.</p>

        <h3>Feedback</h3>
        <p>
          Você é incentivado a ajudar a melhorar a qualidade deste guia.
        </p>
        <p>
          Por favor, contribua caso veja quaisquer erros, inclusive erros de digitação.
          Para começar, você pode ler nossa sessão de <a href="https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation">contribuindo com a documentação</a>.
        </p>
        <p>
          Você também pode encontrar conteúdo incompleto ou coisas que não estão atualizadas.
          Por favor, adicione qualquer documentação em falta na main do Rails. Certifique-se de checar o
          <a href="http://edgeguides.rubyonrails.org">Edge Guides (en-US)</a> primeiro para verificar
          se o problema já foi resolvido ou não no branch main.
          Verifique as <a href="ruby_on_rails_guides_guidelines.html">Diretrizes do Guia Ruby on Rails</a>
          para estilo e convenções.
        </p>
        <p>
          Se, por qualquer motivo, você encontrar algo para consertar, mas não conseguir consertá-lo, por favor
          <a href="https://github.com/campuscode/rails-guides-pt-BR/issues">abra uma issue no nosso Guia</a>.
        </p>
        <p>
          E por último, mas não menos importante, qualquer tipo de discussão sobre a documentação do Ruby on Rails
          é muito bem vinda na <a href="https://discuss.rubyonrails.org/c/rubyonrails-docs">forum oficial do Ruby on Rails</a> e nas
          <a href="https://github.com/campuscode/rails-guides-pt-BR/issues">issues do Guia em português</a>.
        </p>
      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <p> Este projeto está licenciado sob uma licença <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a></p>
<p>"Rails", "Ruby on Rails", e o logotipo Rails são marcas comerciais de David Heinemeier Hansson. Todos os direitos reservados.</p>

    </div>
  </div>
  <div id="toggle">
    <img alt="dark theme icon" class="icon">
  </div>
</body>
</html>
