<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Contribuindo para o Ruby on Rails — Ruby on Rails Guides</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/style.css" data-turbolinks-track="reload">
  <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
  <link rel="stylesheet" type="text/css" href="stylesheets/highlight.css" data-turbolinks-track="reload">
  <link rel="stylesheet" type="text/css" href="stylesheets/search.css" data-turbolinks-track="reload">
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  <script src="javascripts/turbolinks.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/clipboard.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/guides.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/search.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/lunr-documents.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/lunr.js" data-turbolinks-track="reload"></script>
  <script src="javascripts/toggle-theme.js" data-turbolinks-track="reload"></script>
  <meta property="og:title" content="Contribuindo para o Ruby on Rails — Ruby on Rails Guides" />
  <meta name="description" content="Contribuindo para o Ruby on RailsEsse guia aborda algumas maneiras de como você pode se tornar uma parte do desenvolvimento contínuo do Ruby on Rails.Depois de ler este guia, você saberá: Como usar o GitHub para relatar problemas. Como clonar a branch main e executar uma série de testes. Como ajudar a resolver problemas já existentes. Como contribuir na documentação do Ruby on Rails. Como contribuir no código fonte do Ruby on Rails. Ruby on Rails não é um &quot;framework de qualquer um.&quot; Ao longo dos anos, milhares de pessoas contribuíram para o Ruby on Rails, desde as mais simples implementações até as maiores mudanças na arquitetura ou documentação - tudo isso com o objetivo de fazer um Ruby on Rails melhor para todos. Mesmo que você ainda não se sinta pronto para escrever um código ou documentação, existem várias outras maneiras pelas quais você pode contribuir, desde relatar problemas até testar patches.Como mencionado em Rails&#39;README, espera-se que todos que interajam no Rails e nas bases de código de seus sub-projetos, issue trackers, chat rooms e listas de discussão sigam o código de conduta do Rails." />
  <meta property="og:description" content="Contribuindo para o Ruby on RailsEsse guia aborda algumas maneiras de como você pode se tornar uma parte do desenvolvimento contínuo do Ruby on Rails.Depois de ler este guia, você saberá: Como usar o GitHub para relatar problemas. Como clonar a branch main e executar uma série de testes. Como ajudar a resolver problemas já existentes. Como contribuir na documentação do Ruby on Rails. Como contribuir no código fonte do Ruby on Rails. Ruby on Rails não é um &quot;framework de qualquer um.&quot; Ao longo dos anos, milhares de pessoas contribuíram para o Ruby on Rails, desde as mais simples implementações até as maiores mudanças na arquitetura ou documentação - tudo isso com o objetivo de fazer um Ruby on Rails melhor para todos. Mesmo que você ainda não se sinta pronto para escrever um código ou documentação, existem várias outras maneiras pelas quais você pode contribuir, desde relatar problemas até testar patches.Como mencionado em Rails&#39;README, espera-se que todos que interajam no Rails e nas bases de código de seus sub-projetos, issue trackers, chat rooms e listas de discussão sigam o código de conduta do Rails." />
  <meta property="og:locale" content="pt_BR" />
  <meta property="og:site_name" content="Guia Ruby on Rails" />
  <meta property="og:image" content="https://avatars.githubusercontent.com/u/4223" />
  <meta property="og:type" content="website" />
</head>
<body class="guide">
  <div>
    <div id="version-badge">v6.1.4</div>
  </div>
  <div id="topNav">
    <div class="wrapper">
      <strong class="more-info-label">Veja mais em <a href="https://rubyonrails.org/">rubyonrails.org:</a> </strong>
      <span class="red-button more-info-button">
        Mais Ruby on Rails
      </span>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="https://weblog.rubyonrails.org/">Blog</a></li>
        <li class="more-info"><a href="https://guides.rubyonrails.org/">Guia oficial</a></li>
        <li class="more-info"><a href="https://api.rubyonrails.org/">API</a></li>
        <li class="more-info"><a href="https://discuss.rubyonrails.org/">Forum</a></li>
        <li class="more-info"><a href="https://github.com/rails/rails">Contribua no GitHub</a></li>
      </ul>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="index.html" title="Voltar para a página principal">Guiarails.com.br</a></h1>
      <ul class="nav">
        <li><a class="nav-item" href="index.html">Home</a></li>
        <li class="guides-search guides-search-large">
          <input class="search-box search-box-large nav-item" type="text" placeholder="Digite o termo...">
          <div class="search-results"></div>
          <div class="search-spinner">Aguarde...</div>
        </li>
        <li class="guides-index guides-index-large">
          <a href="index.html" id="guidesMenu" class="guides-index-item nav-item">Guias</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
            <dl class="guides-section-container">
                <div class="guides-section">
                  <dt>Comece aqui</dt>
                  <dd><a href="getting_started.html">Começando com Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Models</dt>
                  <dd><a href="active_record_basics.html">Active Record Basics</a></dd>
                  <dd><a href="active_record_migrations.html">Active Record Migrations</a></dd>
                  <dd><a href="active_record_validations.html">Active Record Validations</a></dd>
                  <dd><a href="active_record_callbacks.html">Active Record Callbacks</a></dd>
                  <dd><a href="association_basics.html">Active Record Associations</a></dd>
                  <dd><a href="active_record_querying.html">Active Record Query Interface</a></dd>
                  <dd><a href="active_model_basics.html">Active Model Basics</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Views</dt>
                  <dd><a href="action_view_overview.html">Action View Overview</a></dd>
                  <dd><a href="layouts_and_rendering.html">Layouts and Rendering in Rails</a></dd>
                  <dd><a href="action_view_helpers.html">Action View Helpers</a></dd>
                  <dd><a href="form_helpers.html">Action View Form Helpers</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Controllers</dt>
                  <dd><a href="action_controller_overview.html">Action Controller Overview</a></dd>
                  <dd><a href="routing.html">Rails Routing from the Outside In</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Outros componentes</dt>
                  <dd><a href="active_support_core_extensions.html">Active Support Core Extensions</a></dd>
                  <dd><a href="action_mailer_basics.html">Action Mailer Basics</a></dd>
                  <dd><a href="action_mailbox_basics.html">Action Mailbox Basics</a></dd>
                  <dd><a href="action_text_overview.html">Action Text Overview</a></dd>
                  <dd><a href="active_job_basics.html">Active Job Basics</a></dd>
                  <dd><a href="active_storage_overview.html">Active Storage Overview</a></dd>
                  <dd><a href="action_cable_overview.html">Action Cable Overview</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Indo mais fundo</dt>
                  <dd><a href="i18n.html">Rails Internationalization (I18n) API</a></dd>
                  <dd><a href="testing.html">Testing Rails Applications</a></dd>
                  <dd><a href="security.html">Securing Rails Applications</a></dd>
                  <dd><a href="debugging_rails_applications.html">Debugging Rails Applications</a></dd>
                  <dd><a href="configuring.html">Configuring Rails Applications</a></dd>
                  <dd><a href="command_line.html">The Rails Command Line</a></dd>
                  <dd><a href="asset_pipeline.html">The Asset Pipeline</a></dd>
                  <dd><a href="working_with_javascript_in_rails.html">Working with JavaScript in Rails</a></dd>
                  <dd><a href="initialization.html">The Rails Initialization Process</a></dd>
                  <dd><a href="autoloading_and_reloading_constants.html">Autoloading and Reloading Constants (Zeitwerk Mode)</a></dd>
                  <dd><a href="autoloading_and_reloading_constants_classic_mode.html">Autoloading and Reloading Constants (Classic Mode)</a></dd>
                  <dd><a href="caching_with_rails.html">Caching with Rails: An Overview</a></dd>
                  <dd><a href="active_support_instrumentation.html">Active Support Instrumentation</a></dd>
                  <dd><a href="api_app.html">Using Rails for API-only Applications</a></dd>
                  <dd><a href="active_record_postgresql.html">Active Record and PostgreSQL</a></dd>
                  <dd><a href="active_record_multiple_databases.html">Multiple Databases with Active Record</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Estendendo o Rails</dt>
                  <dd><a href="plugins.html">The Basics of Creating Rails Plugins</a></dd>
                  <dd><a href="rails_on_rack.html">Rails on Rack</a></dd>
                  <dd><a href="generators.html">Creating and Customizing Rails Generators &amp; Templates</a></dd>
                  <dd><a href="engines.html">Getting Started with Engines</a></dd>
                  <dd><a href="threading_and_code_execution.html">Threading and Code Execution in Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Contribuições</dt>
                  <dd><a href="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</a></dd>
                  <dd><a href="api_documentation_guidelines.html">API Documentation Guidelines</a></dd>
                  <dd><a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Políticas</dt>
                  <dd><a href="maintenance_policy.html">Maintenance Policy for Ruby on Rails</a></dd>
                </div>
                <div class="guides-section">
                  <dt>Release Notes</dt>
                  <dd><a href="upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</a></dd>
                  <dd><a href="6_1_release_notes.html">Version 6.1 - Dezembro 2020</a></dd>
                  <dd><a href="6_0_release_notes.html">Version 6.0 - Agosto 2019</a></dd>
                  <dd><a href="5_2_release_notes.html">Version 5.2 - April 2018</a></dd>
                  <dd><a href="5_1_release_notes.html">Version 5.1 - April 2017</a></dd>
                  <dd><a href="5_0_release_notes.html">Version 5.0 - June 2016</a></dd>
                  <dd><a href="4_2_release_notes.html">Version 4.2 - December 2014</a></dd>
                  <dd><a href="4_1_release_notes.html">Version 4.1 - April 2014</a></dd>
                  <dd><a href="4_0_release_notes.html">Version 4.0 - June 2013</a></dd>
                  <dd><a href="3_2_release_notes.html">Version 3.2 - January 2012</a></dd>
                  <dd><a href="3_1_release_notes.html">Version 3.1 - August 2011</a></dd>
                  <dd><a href="3_0_release_notes.html">Version 3.0 - August 2010</a></dd>
                  <dd><a href="2_3_release_notes.html">Version 2.3 - March 2009</a></dd>
                  <dd><a href="2_2_release_notes.html">Version 2.2 - November 2008</a></dd>
                </div>
            </div>
          </dl>
        </li>
        <li><a class="nav-item" href="contributing_to_ruby_on_rails.html">Contribua</a></li>
        <li class="guides-search guides-search-small">
          <input class="search-box search-box-small nav-item" type="text" placeholder="Digite o termo...">
          <div class="search-results"></div>
          <div class="search-spinner">Aguarde...</div>
        </li>
        <li class="guides-index guides-index-small">
          <select class="guides-index-item nav-item">
            <option value="index.html">Guias</option>
              <optgroup label="Comece aqui">
                  <option value="getting_started.html">Começando com Rails</option>
              </optgroup>
              <optgroup label="Models">
                  <option value="active_record_basics.html">Active Record Basics</option>
                  <option value="active_record_migrations.html">Active Record Migrations</option>
                  <option value="active_record_validations.html">Active Record Validations</option>
                  <option value="active_record_callbacks.html">Active Record Callbacks</option>
                  <option value="association_basics.html">Active Record Associations</option>
                  <option value="active_record_querying.html">Active Record Query Interface</option>
                  <option value="active_model_basics.html">Active Model Basics</option>
              </optgroup>
              <optgroup label="Views">
                  <option value="action_view_overview.html">Action View Overview</option>
                  <option value="layouts_and_rendering.html">Layouts and Rendering in Rails</option>
                  <option value="action_view_helpers.html">Action View Helpers</option>
                  <option value="form_helpers.html">Action View Form Helpers</option>
              </optgroup>
              <optgroup label="Controllers">
                  <option value="action_controller_overview.html">Action Controller Overview</option>
                  <option value="routing.html">Rails Routing from the Outside In</option>
              </optgroup>
              <optgroup label="Outros componentes">
                  <option value="active_support_core_extensions.html">Active Support Core Extensions</option>
                  <option value="action_mailer_basics.html">Action Mailer Basics</option>
                  <option value="action_mailbox_basics.html">Action Mailbox Basics</option>
                  <option value="action_text_overview.html">Action Text Overview</option>
                  <option value="active_job_basics.html">Active Job Basics</option>
                  <option value="active_storage_overview.html">Active Storage Overview</option>
                  <option value="action_cable_overview.html">Action Cable Overview</option>
              </optgroup>
              <optgroup label="Indo mais fundo">
                  <option value="i18n.html">Rails Internationalization (I18n) API</option>
                  <option value="testing.html">Testing Rails Applications</option>
                  <option value="security.html">Securing Rails Applications</option>
                  <option value="debugging_rails_applications.html">Debugging Rails Applications</option>
                  <option value="configuring.html">Configuring Rails Applications</option>
                  <option value="command_line.html">The Rails Command Line</option>
                  <option value="asset_pipeline.html">The Asset Pipeline</option>
                  <option value="working_with_javascript_in_rails.html">Working with JavaScript in Rails</option>
                  <option value="initialization.html">The Rails Initialization Process</option>
                  <option value="autoloading_and_reloading_constants.html">Autoloading and Reloading Constants (Zeitwerk Mode)</option>
                  <option value="autoloading_and_reloading_constants_classic_mode.html">Autoloading and Reloading Constants (Classic Mode)</option>
                  <option value="caching_with_rails.html">Caching with Rails: An Overview</option>
                  <option value="active_support_instrumentation.html">Active Support Instrumentation</option>
                  <option value="api_app.html">Using Rails for API-only Applications</option>
                  <option value="active_record_postgresql.html">Active Record and PostgreSQL</option>
                  <option value="active_record_multiple_databases.html">Multiple Databases with Active Record</option>
              </optgroup>
              <optgroup label="Estendendo o Rails">
                  <option value="plugins.html">The Basics of Creating Rails Plugins</option>
                  <option value="rails_on_rack.html">Rails on Rack</option>
                  <option value="generators.html">Creating and Customizing Rails Generators &amp; Templates</option>
                  <option value="engines.html">Getting Started with Engines</option>
                  <option value="threading_and_code_execution.html">Threading and Code Execution in Rails</option>
              </optgroup>
              <optgroup label="Contribuições">
                  <option value="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</option>
                  <option value="api_documentation_guidelines.html">API Documentation Guidelines</option>
                  <option value="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</option>
              </optgroup>
              <optgroup label="Políticas">
                  <option value="maintenance_policy.html">Maintenance Policy for Ruby on Rails</option>
              </optgroup>
              <optgroup label="Release Notes">
                  <option value="upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</option>
                  <option value="6_1_release_notes.html">Version 6.1 - Dezembro 2020</option>
                  <option value="6_0_release_notes.html">Version 6.0 - Agosto 2019</option>
                  <option value="5_2_release_notes.html">Version 5.2 - April 2018</option>
                  <option value="5_1_release_notes.html">Version 5.1 - April 2017</option>
                  <option value="5_0_release_notes.html">Version 5.0 - June 2016</option>
                  <option value="4_2_release_notes.html">Version 4.2 - December 2014</option>
                  <option value="4_1_release_notes.html">Version 4.1 - April 2014</option>
                  <option value="4_0_release_notes.html">Version 4.0 - June 2013</option>
                  <option value="3_2_release_notes.html">Version 3.2 - January 2012</option>
                  <option value="3_1_release_notes.html">Version 3.1 - August 2011</option>
                  <option value="3_0_release_notes.html">Version 3.0 - August 2010</option>
                  <option value="2_3_release_notes.html">Version 2.3 - March 2009</option>
                  <option value="2_2_release_notes.html">Version 2.2 - November 2008</option>
              </optgroup>
          </select>
        </li>
      </ul>
    </div>
  </div>
  <hr class="hide" />

  <div id="feature">
    <div class="wrapper">
      <h2>Contribuindo para o Ruby on Rails</h2><p>Esse guia aborda algumas maneiras de como <em>você</em> pode se tornar uma parte do desenvolvimento contínuo do Ruby on Rails.</p><p>Depois de ler este guia, você saberá:</p>
<ul>
<li>Como usar o GitHub para relatar problemas.</li>
<li>Como clonar a <em>branch</em> main e executar uma série de testes.</li>
<li>Como ajudar a resolver problemas já existentes.</li>
<li>Como contribuir na documentação do Ruby on Rails.</li>
<li>Como contribuir no código fonte do Ruby on Rails.</li>
</ul>
<p>Ruby on Rails não é um &quot;framework de qualquer um.&quot; Ao longo dos anos, milhares de pessoas contribuíram para o Ruby on Rails, desde as mais simples implementações até as maiores mudanças na arquitetura ou documentação - tudo isso com o objetivo de fazer um Ruby on Rails melhor para todos. Mesmo que você ainda não se sinta pronto para escrever um código ou documentação, existem várias outras maneiras pelas quais você pode contribuir, desde relatar problemas até testar <em>patches</em>.</p><p>Como mencionado em <a href="https://github.com/rails/rails/blob/main/README.md">Rails&#39;README</a>, espera-se que todos que interajam no Rails e nas bases de código de seus sub-projetos, <em>issue trackers</em>, <em>chat rooms</em> e listas de discussão sigam o <a href="https://rubyonrails.org/conduct/">código de conduta</a> do Rails.</p>

                <div id="subCol">
            <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
            <ol class="chapters">
<li>
<a href="#relatando-uma-issue">Relatando uma <em>Issue</em></a>

<ul>
<li><a href="#criando-um-aviso-de-bug">Criando um aviso de <em>Bug</em></a></li>
<li><a href="#crie-um-caso-de-teste-executavel">Crie um Caso de Teste Executável</a></li>
<li><a href="#tratamento-especial-para-questoes-de-seguranca">Tratamento Especial para Questões de Segurança</a></li>
<li><a href="#e-quanto-as-solicitacoes-de-funcionalidade-feature-requests-questionmark">E quanto às Solicitações de Funcionalidade (Feature Requests)?</a></li>
</ul>
</li>
<li>
<a href="#ajudando-a-resolver-issues-existentes">Ajudando a Resolver <em>Issues</em> Existentes</a>

<ul>
<li><a href="#verificar-bug-reports">Verificar <em>Bug Reports</em></a></li>
<li><a href="#testar-patches">Testar <em>Patches</em></a></li>
</ul>
</li>
<li><a href="#contribuindo-com-a-documentacao-do-rails">Contribuindo com a documentação do Rails</a></li>
<li><a href="#translating-rails-guides">Translating Rails Guides</a></li>
<li>
<a href="#contributing-to-the-rails-code">Contributing to the Rails Code</a>

<ul>
<li><a href="#setting-up-a-development-environment">Setting Up a Development Environment</a></li>
<li><a href="#clone-the-rails-repository">Clone the Rails Repository</a></li>
<li><a href="#bundle-install">Bundle install</a></li>
<li><a href="#running-an-application-against-your-local-branch">Running an Application Against Your Local Branch</a></li>
<li><a href="#write-your-code">Write Your Code</a></li>
<li><a href="#benchmark-your-code">Benchmark Your Code</a></li>
<li><a href="#running-tests">Running Tests</a></li>
<li><a href="#warnings">Warnings</a></li>
<li><a href="#updating-the-changelog">Updating the CHANGELOG</a></li>
<li><a href="#updating-the-gemfile-lock">Updating the Gemfile.lock</a></li>
<li><a href="#commit-your-changes">Commit Your Changes</a></li>
<li><a href="#update-your-branch">Update Your Branch</a></li>
<li><a href="#fork">Fork</a></li>
<li><a href="#issue-a-pull-request">Issue a Pull Request</a></li>
<li><a href="#get-some-feedback">Get some Feedback</a></li>
<li><a href="#iterate-as-necessary">Iterate as Necessary</a></li>
<li><a href="#older-versions-of-ruby-on-rails">Older Versions of Ruby on Rails</a></li>
</ul>
</li>
<li><a href="#contribuintes-do-rails">Contribuintes do Rails</a></li>
</ol>

          </div>

    </div>
  </div>

  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <h3 id="relatando-uma-issue"><a class="anchorlink" href="#relatando-uma-issue">1 Relatando uma <em>Issue</em></a></h3><p>O Ruby on Rails utiliza o <a href="https://github.com/rails/rails/issues">GitHub Issue Tracking</a> para rastrear problemas (principalmente <em>bugs</em> e contribuições de novo código). Se você encontrou um <em>bug</em> no Ruby on Rails, este é o lugar por onde começar. Você precisará criar uma conta (gratuita) no GitHub para poder enviar uma <em>issue</em>, fazer comentários nelas, ou criar <em>pull requests</em>.</p><div class="note"><p>Os <em>bugs</em> na versão mais recente do Ruby on Rails provavelmente receberão mais atenção. Além disso, a equipe principal do Rails está sempre interessada no <em>feedback</em> daqueles que podem tirar um tempo para testar o <em>edge Rails</em> (o código para a versão do Rails que está atualmente em desenvolvimento). Posteriormente neste guia, você irá descobrirá como obter o <em>edge Rails</em> para testes.</p></div><h4 id="criando-um-aviso-de-bug"><a class="anchorlink" href="#criando-um-aviso-de-bug">1.1 Criando um aviso de <em>Bug</em></a></h4><p>Se você encontrou um problema no Ruby on Rails que não é um risco de segurança, faça um pesquisa no GitHub em <a href="https://github.com/rails/rails/issues"><em>Issues</em></a>, caso já tenha sido relatado. Se você não conseguir encontrar nenhuma <em>issue</em> aberta no GitHub que resolva o problema que encontrou, seu próximo passo será <a href="https://github.com/rails/rails/issues/new">abrir uma nova</a>. (Consulte a próxima seção para relatar problemas de segurança.)</p><p>Seu relatório de <em>issue</em> deve conter, no mínimo, um título e uma descrição clara do problema. Você deve incluir o máximo possível de informações relevantes e, pelo menos, postar um exemplo de código que demonstre o problema. Seria ainda melhor se você pudesse incluir um teste de unidade que mostra como o comportamento esperado não está ocorrendo. Seu objetivo deve ser tornar mais fácil para você - e para outros - reproduzir o <em>bug</em> e descobrir um correção.</p><p>Então, não tenha muitas esperanças! A menos que você tenha um tipo de <em>bug</em> "Código Vermelho, Estado Crítico, o Mundo está Chegando ao Fim", você está criando este relatório de <em>issue</em> na esperança de que outras pessoas com o mesmo problema possam colaborar com você para resolvê-lo. Não espere que o relatório de <em>issue</em> veja automaticamente qualquer atividade ou que outras pessoas corram para corrigí-lo. A criação de uma <em>issue</em> como essa é principalmente para ajudar a si mesmo a começar a corrigir o problema e para que outras pessoas confirmem com um comentário "Também estou tendo este problema".</p><h4 id="crie-um-caso-de-teste-executavel"><a class="anchorlink" href="#crie-um-caso-de-teste-executavel">1.2 Crie um Caso de Teste Executável</a></h4><p>Ter uma maneira de reproduzir seu problema será muito útil para que outras pessoas ajudem a confirmar, investigar e, por fim, corrigir seu problema. Você pode fazer isso fornecendo um caso de teste executável. Para facilitar esse processo, preparamos vários modelos de relatório de <em>bug</em> para você utilizar como ponto de partida:</p>
<ul>
<li>Template para problemas de Active Record (models, database): <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_record_gem.rb">gem</a> / <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_record_main.rb">main</a>
</li>
<li>Template para testar problemas de Active Record (migration): <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_record_migrations_gem.rb">gem</a> / <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_record_migrations_main.rb">main</a>
</li>
<li>Template para problemas de Action Pack (controllers, routing): <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/action_controller_gem.rb">gem</a> / <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/action_controller_main.rb">main</a>
</li>
<li>Template para problemas de Active Job: <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_job_gem.rb">gem</a> / <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_job_main.rb">main</a>
</li>
<li>Template para problemas de Active Storage: <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_storage_gem.rb">gem</a> / <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_storage_main.rb">main</a>
</li>
<li>Template para problemas de Action Mailbox: <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/action_mailbox_gem.rb">gem</a> / <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/action_mailbox_main.rb">main</a>
</li>
<li>Template genérico para outros problemas: <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/generic_gem.rb">gem</a> / <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/generic_main.rb">main</a>
</li>
</ul>
<p>Esses <em>templates</em> incluem um código padrão (<em>boilerplate</em>) para configurar um caso de teste tanto para uma versão estável do Rails (<code>*_gem.rb</code>) quanto para o <em>edge Rails</em> (<code>*_main.rb</code>).</p><p>Copie o conteúdo do <em>template</em> apropriado para um arquivo <code>.rb</code> e faça as alterações necessárias para demonstrar o problema. Você pode executá-lo rodando <code>ruby nome_do_arquivo.rb</code> no seu terminal. Se tudo correr bem, você verá que seu caso de teste falhou.</p><p>Você pode então compartilhar seu caso de teste executável como um <a href="https://gist.github.com"><em>gist</em></a>, ou colar o conteúdo na descrição da <em>issue</em>.</p><h4 id="tratamento-especial-para-questoes-de-seguranca"><a class="anchorlink" href="#tratamento-especial-para-questoes-de-seguranca">1.3 Tratamento Especial para Questões de Segurança</a></h4><div class="warning"><p>Não relate vulnerabilidades de segurança com relatórios públicos de <em>issue</em> do GitHub. A <a href="https://rubyonrails.org/security">página de política de segurança do Rails</a> detalha o procedimento a seguir para questões de segurança.</p></div><h4 id="e-quanto-as-solicitacoes-de-funcionalidade-feature-requests-questionmark"><a class="anchorlink" href="#e-quanto-as-solicitacoes-de-funcionalidade-feature-requests-questionmark">1.4 E quanto às Solicitações de Funcionalidade (Feature Requests)?</a></h4><p>Por favor, não coloque itens de <em>feature request</em> nas <em>issues</em> do GitHub. Se houver uma nova <em>feature</em> que você deseja ver adicionada ao Ruby on Rails, você precisará escrever o código por conta própria - ou convencer alguém a fazer uma parceria com você para escrever o código.
Posteriormente neste guia, você encontrará instruções detalhadas para propor um <em>patch</em> para o Ruby on Rails. Se você inserir um item que você deseja nas <em>Issues</em> do GitHub sem código, pode esperar que ele será marcado como "inválido" assim que for revisado.</p><p>Às vezes, é difícil de traçar a linha entre '<em>bug</em>' e '<em>feature</em>'. Normalmente, a <em>feature</em> é qualquer coisa que adiciona um novo comportamento, enquanto um <em>bug</em> é qualquer coisa que causa um comportamento incorreto. Às vezes, a equipe principal terá que fazer um julgamento. Dito isso, a distinção geralmente afeta apenas em qual versão seu <em>patch</em> entrará; nós amamos submissões de <em>features</em>! Elas simplesmente não serão transportadas para as <em>branches</em> de manutenção.</p><p>Se você deseja obter <em>feedback</em> sobre uma ideia de <em>feature</em> antes de começá-la e fazer um <em>patch</em>, envie um email para a <a href="https://groups.google.com/forum/?fromgroups#!forum/rubyonrails-core">lista de discussão do rails-core</a>. Você pode não receber resposta, o que significa que todos são indiferentes. Você pode encontrar alguém que também esteja interessado em criar essa <em>feature</em>. Você pode receber um "Isso não será aceito". Mas é o lugar certo para discutir novas ideias. As <em>issues</em> do GitHub não são um local particularmente bom para as discussões às vezes longas e complicadas que as novas <em>features</em> exigem.</p><h3 id="ajudando-a-resolver-issues-existentes"><a class="anchorlink" href="#ajudando-a-resolver-issues-existentes">2 Ajudando a Resolver <em>Issues</em> Existentes</a></h3><p>Como uma próxima etapa além de relatar <em>issues</em>, você pode ajudar a equipe principal a resolver as existentes fornecendo <em>feedback</em> sobre elas. Se você é novo no desenvolvimento do núcleo do Rails, essa pode ser uma ótima maneira de dar os primeiros passos, você irá se familiarizar com a base de código e os processos.</p><p>Se você verificar a <a href="https://github.com/rails/rails/issues">lista de <em>issues</em></a> em <em>Issues</em> do GitHub, você encontrará muitas <em>issues</em> que já requerem atenção. O que você pode fazer para ajudar? Bastante coisa, na verdade:</p><h4 id="verificar-bug-reports"><a class="anchorlink" href="#verificar-bug-reports">2.1 Verificar <em>Bug Reports</em></a></h4><p>Para começar, ajuda apenas verificar os relatórios de <em>bugs</em>. Você pode reproduzir a <em>issue</em> relatada em seu próprio computador? Nesse caso, você pode adicionar um comentário à <em>issue</em> dizendo que está vendo a mesma coisa.</p><p>Se uma <em>issue</em> for muito vaga, você pode ajudar a restringí-la a algo mais específico? Talvez você possa fornecer informações adicionais para ajudar a reproduzir um <em>bug</em> ou ajudar eliminando etapas desnecessárias para demonstrar o problema.</p><p>Se você encontrar um relatório de <em>bug</em> sem um teste, é muito útil contribuir com um teste de falha. Essa também é uma ótima forma de começar a explorar o código-fonte: examinar os arquivos de testes irá te ensinar a escrever mais testes. Novos testes são melhor contribuídos na forma de um <em>patch</em>, como explicado mais tarde na seção "<a href="#contributing-to-the-rails-code">Contribuindo com o Código Rails</a>"</p><p>Qualquer coisa que você possa fazer para tornar os relatórios de <em>bugs</em> mais sucintos ou mais fáceis de reproduzir ajuda as pessoas a tentarem escrever código para corrigir esses <em>bugs</em> - independentemente de você mesmo acabar escrevendo o código ou não.</p><h4 id="testar-patches"><a class="anchorlink" href="#testar-patches">2.2 Testar <em>Patches</em></a></h4><p>Você também pode ajudar examinando <em>pull requests</em> que foram enviados ao Ruby on Rails via GitHub. Para aplicar as alterações de alguém, você precisa primeiro criar uma <em>branch</em> dedicada:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>checkout <span class="nt">-b</span> testing_branch
</code></pre>
<textarea class="clipboard-content" id="clipboard-30efdc0edd81fce8585090b54f63f424">git checkout -b testing_branch
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-30efdc0edd81fce8585090b54f63f424">Copiar</button>
</div>
<p>Então, você pode usar a <em>branch</em> remota da pessoa que fez o <em>pull request</em> para atualizar sua base código. Por exemplo, digamos que o usuário JohnSmith tenha feito um <em>fork</em> e enviado para a branch "<em>orange</em>" localizada em <a href="https://github.com/JohnSmith/rails">https://github.com/JohnSmith/rails</a>.</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>remote add JohnSmith https://github.com/JohnSmith/rails.git
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>pull JohnSmith orange
</code></pre>
<textarea class="clipboard-content" id="clipboard-3eaf735adf250a57209ad9bceb2cc713">git remote add JohnSmith https://github.com/JohnSmith/rails.git
git pull JohnSmith orange
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-3eaf735adf250a57209ad9bceb2cc713">Copiar</button>
</div>
<p>Depois de aplicar a <em>branch</em>, teste-a! Aqui estão algumas coisa a se atentar:</p>
<ul>
<li>A alteração realmente funciona?</li>
<li>Você está satisfeito com os testes? Você pode acompanhar o que estão testando? Há algum teste faltando?</li>
<li>Possui a cobertura de documentação adequada? A documentação deve ser atualizada em algum outro lugar?</li>
<li>Você está satisfeito com a implementação? Você pode pensar em uma maneira mais agradável ou rápida de implementar parte da alteração?</li>
</ul>
<p>Uma vez que você estiver satisfeito com o fato de que o <em>pull request</em> possui uma boa alteração, comente na <em>issue</em> do GitHub indicando sua aprovação. Seu comentário deve indicar que você gostou da mudança e o que você gostou nela. Algo como:</p>
<blockquote>
<p>Eu gostei da forma como você reestruturou o código em <code>generate_finder_sql</code> - muito melhor. Os testes também parecem bons.</p>
</blockquote>
<p>Se o seu comentário for apenas "+1", é provável que outros revisores não o levem muito a sério. Mostre que você dedicou um tempo para revisar o <em>pull request</em>.</p><h3 id="contribuindo-com-a-documentacao-do-rails"><a class="anchorlink" href="#contribuindo-com-a-documentacao-do-rails">3 Contribuindo com a documentação do Rails</a></h3><p>O Ruby on Rails possui dois conjuntos principais de documentação: os guias, que te ajudam a aprender sobre Ruby on Rails, e a API, que serve como referência.</p><p>Você pode ajudar a melhorar os guias do Rails ou a referência da API tornando-os mais coerentes, consistentes ou legíveis, adicionando informações ausentes, corrigindo erros factuais, corrigindo erros de digitação ou atualizando-os com os Rails mais recentes.</p><p>Para isso, faça alterações aos arquivos-fonte dos guias do Rails (localizados <a href="https://github.com/rails/rails/tree/main/guides/source">aqui</a> no GitHub) ou comentários RDoc no código fonte. Então abra um <em>Pull Request</em> para aplicar suas mudanças na <em>branch</em> principal (<em>main</em>).</p><p>Ao trabalhar com a documentação, leve em consideração as <a href="api_documentation_guidelines.html">Diretrizes de Documentação da API</a> e as <a href="ruby_on_rails_guides_guidelines.html">Diretrizes dos guias Ruby on Rails</a>.</p><div class="note"><p>Para alterações na documentação, o título da solicitação pull deve incluir [ci skip]. Isso irá ignorar a execução do conjunto de testes, ajudando-nos a reduzir nossos custos de servidor. Lembre-se de que você só deve pular o CI (integração contínua) quando sua alteração tocar exclusivamente na documentação.</p></div><h3 id="translating-rails-guides"><a class="anchorlink" href="#translating-rails-guides">4 Translating Rails Guides</a></h3><p>We are happy to have people volunteer to translate the Rails guides. Just follow these steps:</p>
<ul>
<li>Fork <a href="https://github.com/rails/rails">https://github.com/rails/rails</a>.</li>
<li>Add a source folder for your own language, for example: <em>guides/source/it-IT</em> for Italian.</li>
<li>Copy the contents of <em>guides/source</em> into your own language directory and translate them.</li>
<li>Do NOT translate the HTML files, as they are automatically generated.</li>
</ul>
<p>Note that translations are not submitted to the Rails repository. As detailed above, your work happens in a fork. This is so because in practice documentation maintenance via patches is only sustainable in English.</p><p>To generate the guides in HTML format you will need to install the guides dependencies, <code>cd</code> into the <em>guides</em> directory, and then run (e.g. for it-IT):</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">#</span><span class="w"> </span>only <span class="nb">install </span>gems necessary <span class="k">for </span>the guides. To undo run: <span class="nb">bundle </span>config <span class="nt">--delete</span> without
<span class="gp">$</span><span class="w"> </span><span class="nb">bundle install</span> <span class="nt">--without</span> job cable storage ujs <span class="nb">test </span>db
<span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>guides/
<span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec rake </span>guides:generate:html <span class="nv">GUIDES_LANGUAGE</span><span class="o">=</span>it-IT
</code></pre>
<textarea class="clipboard-content" id="clipboard-877cad321c61ca4dca190f9c365c5f42">bundle install --without job cable storage ujs test db
cd guides/
bundle exec rake guides:generate:html GUIDES_LANGUAGE=it-IT
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-877cad321c61ca4dca190f9c365c5f42">Copiar</button>
</div>
<p>This will generate the guides in an <em>output</em> directory.</p><div class="note"><p>The Redcarpet Gem doesn't work with JRuby.</p></div><p>Translation efforts we know about (various versions):</p>
<ul>
<li>
<strong>Italian</strong>: <a href="https://github.com/rixlabs/docrails">https://github.com/rixlabs/docrails</a>
</li>
<li>
<strong>Spanish</strong>: <a href="https://github.com/latinadeveloper/railsguides.es">https://github.com/latinadeveloper/railsguides.es</a>
</li>
<li>
<strong>Polish</strong>: <a href="https://github.com/apohllo/docrails">https://github.com/apohllo/docrails</a>
</li>
<li>
<strong>French</strong> : <a href="https://github.com/railsfrance/docrails">https://github.com/railsfrance/docrails</a>
</li>
<li>
<strong>Czech</strong> : <a href="https://github.com/rubyonrails-cz/docrails/tree/czech">https://github.com/rubyonrails-cz/docrails/tree/czech</a>
</li>
<li>
<strong>Turkish</strong> : <a href="https://github.com/ujk/docrails">https://github.com/ujk/docrails</a>
</li>
<li>
<strong>Korean</strong> : <a href="https://github.com/rorlakr/rails-guides">https://github.com/rorlakr/rails-guides</a>
</li>
<li>
<strong>Simplified Chinese</strong> : <a href="https://github.com/ruby-china/guides">https://github.com/ruby-china/guides</a>
</li>
<li>
<strong>Traditional Chinese</strong> : <a href="https://github.com/docrails-tw/guides">https://github.com/docrails-tw/guides</a>
</li>
<li>
<strong>Russian</strong> : <a href="https://github.com/morsbox/rusrails">https://github.com/morsbox/rusrails</a>
</li>
<li>
<strong>Japanese</strong> : <a href="https://github.com/yasslab/railsguides.jp">https://github.com/yasslab/railsguides.jp</a>
</li>
<li>
<strong>Brazilian Portuguese</strong> : <a href="https://github.com/campuscode/rails-guides-pt-BR">https://github.com/campuscode/rails-guides-pt-BR</a>
</li>
</ul>
<h3 id="contributing-to-the-rails-code"><a class="anchorlink" href="#contributing-to-the-rails-code">5 Contributing to the Rails Code</a></h3><h4 id="setting-up-a-development-environment"><a class="anchorlink" href="#setting-up-a-development-environment">5.1 Setting Up a Development Environment</a></h4><p>To move on from submitting bugs to helping resolve existing issues or contributing your own code to Ruby on Rails, you <em>must</em> be able to run its test suite. In this section of the guide, you'll learn how to set up the tests on your own computer.</p><h5 id="the-easy-way"><a class="anchorlink" href="#the-easy-way">5.1.1 The Easy Way</a></h5><p>The easiest and recommended way to get a development environment ready to hack is to use the <a href="https://github.com/rails/rails-dev-box">rails-dev-box</a>.</p><h5 id="the-hard-way"><a class="anchorlink" href="#the-hard-way">5.1.2 The Hard Way</a></h5><p>In case you can't use the Rails development box, see <a href="development_dependencies_install.html">this other guide</a>.</p><h4 id="clone-the-rails-repository"><a class="anchorlink" href="#clone-the-rails-repository">5.2 Clone the Rails Repository</a></h4><p>To be able to contribute code, you need to clone the Rails repository:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>clone https://github.com/rails/rails.git
</code></pre>
<textarea class="clipboard-content" id="clipboard-f0ff7f6ade791a21afdaea03cce355ae">git clone https://github.com/rails/rails.git
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-f0ff7f6ade791a21afdaea03cce355ae">Copiar</button>
</div>
<p>and create a dedicated branch:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd rails</span>
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>checkout <span class="nt">-b</span> my_new_branch
</code></pre>
<textarea class="clipboard-content" id="clipboard-54860ea6f8afca4d7d9232d4d57f6d08">cd rails
git checkout -b my_new_branch
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-54860ea6f8afca4d7d9232d4d57f6d08">Copiar</button>
</div>
<p>It doesn't matter much what name you use, because this branch will only exist on your local computer and your personal repository on GitHub. It won't be part of the Rails Git repository.</p><h4 id="bundle-install"><a class="anchorlink" href="#bundle-install">5.3 Bundle install</a></h4><p>Install the required gems.</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">bundle install</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-a91672513a6cbaaca370df48c08224ad">bundle install
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-a91672513a6cbaaca370df48c08224ad">Copiar</button>
</div>
<h4 id="running-an-application-against-your-local-branch"><a class="anchorlink" href="#running-an-application-against-your-local-branch">5.4 Running an Application Against Your Local Branch</a></h4><p>In case you need a dummy Rails app to test changes, the <code>--dev</code> flag of <code>rails new</code> generates an application that uses your local branch:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd rails</span>
<span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec rails </span>new ~/my-test-app <span class="nt">--dev</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-1b54d696591ef03f73e919167769e8ee">cd rails
bundle exec rails new ~/my-test-app --dev
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-1b54d696591ef03f73e919167769e8ee">Copiar</button>
</div>
<p>The application generated in <code>~/my-test-app</code> runs against your local branch
and in particular sees any modifications upon server reboot.</p><h4 id="write-your-code"><a class="anchorlink" href="#write-your-code">5.5 Write Your Code</a></h4><p>Now get busy and add/edit code. You're on your branch now, so you can write whatever you want (make sure you're on the right branch with <code>git branch -a</code>). But if you're planning to submit your change back for inclusion in Rails, keep a few things in mind:</p>
<ul>
<li>Get the code right.</li>
<li>Use Rails idioms and helpers.</li>
<li>Include tests that fail without your code, and pass with it.</li>
<li>Update the (surrounding) documentation, examples elsewhere, and the guides: whatever is affected by your contribution.</li>
</ul>
<div class="info"><p>Changes that are cosmetic in nature and do not add anything substantial to the stability, functionality, or testability of Rails will generally not be accepted (read more about <a href="https://github.com/rails/rails/pull/13771#issuecomment-32746700">our rationales behind this decision</a>).</p></div><h5 id="follow-the-coding-conventions"><a class="anchorlink" href="#follow-the-coding-conventions">5.5.1 Follow the Coding Conventions</a></h5><p>Rails follows a simple set of coding style conventions:</p>
<ul>
<li>Two spaces, no tabs (for indentation).</li>
<li>No trailing whitespace. Blank lines should not have any spaces.</li>
<li>Indent and no blank line after private/protected.</li>
<li>Use Ruby &gt;= 1.9 syntax for hashes. Prefer <code>{ a: :b }</code> over <code>{ :a =&gt; :b }</code>.</li>
<li>Prefer <code>&amp;&amp;</code>/<code>||</code> over <code>and</code>/<code>or</code>.</li>
<li>Prefer <code>class &lt;&lt; self</code> over <code>self.method</code> for class methods.</li>
<li>Use <code>my_method(my_arg)</code> not <code>my_method( my_arg )</code> or <code>my_method my_arg</code>.</li>
<li>Use <code>a = b</code> and not <code>a=b</code>.</li>
<li>Use <code>assert_not</code> methods instead of <code>refute</code>.</li>
<li>Prefer <code>method { do_stuff }</code> instead of <code>method{do_stuff}</code> for single-line blocks.</li>
<li>Follow the conventions in the source you see used already.</li>
</ul>
<p>The above are guidelines - please use your best judgment in using them.</p><p>Additionally, we have <a href="https://www.rubocop.org/">RuboCop</a> rules defined to codify some of our coding conventions. You can run RuboCop locally against the file that you have modified before submitting a pull request:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span>rubocop actionpack/lib/action_controller/metal/strong_parameters.rb
<span class="go">Inspecting 1 file
</span><span class="c">.
</span><span class="go">
1 file inspected, no offenses detected
</span></code></pre>
<textarea class="clipboard-content" id="clipboard-b4a47aa290e1ae8e965c429f9d987077">rubocop actionpack/lib/action_controller/metal/strong_parameters.rb
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-b4a47aa290e1ae8e965c429f9d987077">Copiar</button>
</div>
<p>For <code>rails-ujs</code> CoffeeScript and JavaScript files, you can run <code>npm run lint</code> in <code>actionview</code> folder.</p><h4 id="benchmark-your-code"><a class="anchorlink" href="#benchmark-your-code">5.6 Benchmark Your Code</a></h4><p>For changes that might have an impact on performance, please benchmark your
code and measure the impact. Please share the benchmark script you used as well
as the results. You should consider including this information in your commit
message, which allows future contributors to easily verify your findings and
determine if they are still relevant. (For example, future optimizations in the
Ruby VM might render certain optimizations unnecessary.)</p><p>It is very easy to make an optimization that improves performance for a
specific scenario you care about but regresses on other common cases.
Therefore, you should test your change against a list of representative
scenarios. Ideally, they should be based on real-world scenarios extracted
from production applications.</p><p>You can use the <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/benchmark.rb">benchmark template</a>
as a starting point. It includes the boilerplate code to set up a benchmark
using the <a href="https://github.com/evanphx/benchmark-ips">benchmark-ips</a> gem. The
template is designed for testing relatively self-contained changes that can be
inlined into the script.</p><h4 id="running-tests"><a class="anchorlink" href="#running-tests">5.7 Running Tests</a></h4><p>It is not customary in Rails to run the full test suite before pushing
changes. The railties test suite in particular takes a long time, and takes an
especially long time if the source code is mounted in <code>/vagrant</code> as happens in
the recommended workflow with the <a href="https://github.com/rails/rails-dev-box">rails-dev-box</a>.</p><p>As a compromise, test what your code obviously affects, and if the change is
not in railties, run the whole test suite of the affected component. If all
tests are passing, that's enough to propose your contribution. We have
<a href="https://buildkite.com/rails/rails">Buildkite</a> as a safety net for catching
unexpected breakages elsewhere.</p><h5 id="entire-rails"><a class="anchorlink" href="#entire-rails">5.7.1 Entire Rails:</a></h5><p>To run all the tests, do:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd rails</span>
<span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec rake test</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-ffa1336cae654096206b35fc2f1c2115">cd rails
bundle exec rake test
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-ffa1336cae654096206b35fc2f1c2115">Copiar</button>
</div>
<h5 id="for-a-particular-component"><a class="anchorlink" href="#for-a-particular-component">5.7.2 For a Particular Component</a></h5><p>You can run tests only for a particular component (e.g. Action Pack). For example,
to run Action Mailer tests:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>actionmailer
<span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec rake test</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-301c19c12f6ac1c43b403a80565a6763">cd actionmailer
bundle exec rake test
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-301c19c12f6ac1c43b403a80565a6763">Copiar</button>
</div>
<h5 id="for-a-specific-directory"><a class="anchorlink" href="#for-a-specific-directory">5.7.3 For a Specific Directory</a></h5><p>If you want to run the tests located in a specific directory use the <code>TEST_DIR</code>
environment variable. For example, this will run the tests in the
<code>railties/test/generators</code> directory only:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>railties
<span class="gp">$</span><span class="w"> </span><span class="nv">TEST_DIR</span><span class="o">=</span>generators <span class="nb">bundle exec rake test</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-2e4a7e6f7c52c6fac7809d0d4262dfba">cd railties
TEST_DIR=generators bundle exec rake test
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-2e4a7e6f7c52c6fac7809d0d4262dfba">Copiar</button>
</div>
<h5 id="for-a-specific-file"><a class="anchorlink" href="#for-a-specific-file">5.7.4 For a Specific File</a></h5><p>You can run the tests for a particular file by using:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>actionview
<span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec ruby</span> <span class="nt">-w</span> <span class="nt">-Itest</span> <span class="nb">test</span>/template/form_helper_test.rb
</code></pre>
<textarea class="clipboard-content" id="clipboard-a39fb63bbab0a6c401d1a5c4087027cb">cd actionview
bundle exec ruby -w -Itest test/template/form_helper_test.rb
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-a39fb63bbab0a6c401d1a5c4087027cb">Copiar</button>
</div>
<h5 id="running-a-single-test"><a class="anchorlink" href="#running-a-single-test">5.7.5 Running a Single Test</a></h5><p>You can run a single test through ruby. For instance:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>actionmailer
<span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec ruby</span> <span class="nt">-w</span> <span class="nt">-Itest</span> <span class="nb">test</span>/mail_layout_test.rb <span class="nt">-n</span> test_explicit_class_layout
</code></pre>
<textarea class="clipboard-content" id="clipboard-3f7fc27b5b2a83ee0c274929d29f4276">cd actionmailer
bundle exec ruby -w -Itest test/mail_layout_test.rb -n test_explicit_class_layout
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-3f7fc27b5b2a83ee0c274929d29f4276">Copiar</button>
</div>
<p>The <code>-n</code> option allows you to run a single method instead of the whole file.</p><h5 id="running-tests-with-a-specific-seed"><a class="anchorlink" href="#running-tests-with-a-specific-seed">5.7.6 Running Tests with a Specific Seed</a></h5><p>Test execution is randomized with a randomization seed. If you are experiencing random
test failures you can more accurately reproduce a failing test scenario by specifically
setting the randomization seed.</p><p>Running all tests for a component:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>actionmailer
<span class="gp">$</span><span class="w"> </span><span class="nv">SEED</span><span class="o">=</span>15002 <span class="nb">bundle exec rake test</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-cce4b8a464683943b52addd232c26010">cd actionmailer
SEED=15002 bundle exec rake test
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-cce4b8a464683943b52addd232c26010">Copiar</button>
</div>
<p>Running a single test file:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>actionmailer
<span class="gp">$</span><span class="w"> </span><span class="nv">SEED</span><span class="o">=</span>15002 <span class="nb">bundle exec ruby</span> <span class="nt">-w</span> <span class="nt">-Itest</span> <span class="nb">test</span>/mail_layout_test.rb
</code></pre>
<textarea class="clipboard-content" id="clipboard-2610987ef487d0d069b2d5140642cd61">cd actionmailer
SEED=15002 bundle exec ruby -w -Itest test/mail_layout_test.rb
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-2610987ef487d0d069b2d5140642cd61">Copiar</button>
</div>
<h5 id="running-tests-in-serial"><a class="anchorlink" href="#running-tests-in-serial">5.7.7 Running Tests in Serial</a></h5><p>Action Pack and Action View unit tests run in parallel by default. If you are experiencing random
test failures you can set the randomization seed and let these unit tests run in serial by setting <code>PARALLEL_WORKERS=1</code></p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>actionview
<span class="gp">$</span><span class="w"> </span><span class="nv">PARALLEL_WORKERS</span><span class="o">=</span>1 <span class="nv">SEED</span><span class="o">=</span>53708 <span class="nb">bundle exec ruby</span> <span class="nt">-w</span> <span class="nt">-Itest</span> <span class="nb">test</span>/template/test_case_test.rb
</code></pre>
<textarea class="clipboard-content" id="clipboard-97b216546e9c449efcf3d25085def7d0">cd actionview
PARALLEL_WORKERS=1 SEED=53708 bundle exec ruby -w -Itest test/template/test_case_test.rb
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-97b216546e9c449efcf3d25085def7d0">Copiar</button>
</div>
<h5 id="testing-active-record"><a class="anchorlink" href="#testing-active-record">5.7.8 Testing Active Record</a></h5><p>First, create the databases you'll need. You can find a list of the required
table names, usernames, and passwords in <code>activerecord/test/config.example.yml</code>.</p><p>For MySQL and PostgreSQL, it is sufficient to run:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>activerecord
<span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec rake </span>db:mysql:build
</code></pre>
<textarea class="clipboard-content" id="clipboard-317f9c5494e92c57fdd40046ea1ac4eb">cd activerecord
bundle exec rake db:mysql:build
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-317f9c5494e92c57fdd40046ea1ac4eb">Copiar</button>
</div>
<p>Or:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>activerecord
<span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec rake </span>db:postgresql:build
</code></pre>
<textarea class="clipboard-content" id="clipboard-0904fb07567a13dd48abfddf6cbceff4">cd activerecord
bundle exec rake db:postgresql:build
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-0904fb07567a13dd48abfddf6cbceff4">Copiar</button>
</div>
<p>This is not necessary for SQLite3.</p><p>This is how you run the Active Record test suite only for SQLite3:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>activerecord
<span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec rake test</span>:sqlite3
</code></pre>
<textarea class="clipboard-content" id="clipboard-44fb45db985e519f21a8a576cd207865">cd activerecord
bundle exec rake test:sqlite3
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-44fb45db985e519f21a8a576cd207865">Copiar</button>
</div>
<p>You can now run the tests as you did for <code>sqlite3</code>. The tasks are respectively:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec rake test</span>:mysql2
<span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec rake test</span>:postgresql
</code></pre>
<textarea class="clipboard-content" id="clipboard-7c2137232cf8e1705214b80f77dbd28d">bundle exec rake test:mysql2
bundle exec rake test:postgresql
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-7c2137232cf8e1705214b80f77dbd28d">Copiar</button>
</div>
<p>Finally,</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec rake test</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-3bb9e097a7a3e5deb45d16293f6b4706">bundle exec rake test
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-3bb9e097a7a3e5deb45d16293f6b4706">Copiar</button>
</div>
<p>will now run the three of them in turn.</p><p>You can also run any single test separately:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nv">ARCONN</span><span class="o">=</span><span class="nb">sqlite3 bundle exec ruby</span> <span class="nt">-Itest</span> <span class="nb">test</span>/cases/associations/has_many_associations_test.rb
</code></pre>
<textarea class="clipboard-content" id="clipboard-88cb22231e67b7dd11a9211d7ff48f7b">ARCONN=sqlite3 bundle exec ruby -Itest test/cases/associations/has_many_associations_test.rb
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-88cb22231e67b7dd11a9211d7ff48f7b">Copiar</button>
</div>
<p>To run a single test against all adapters, use:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">bundle exec rake </span><span class="nv">TEST</span><span class="o">=</span><span class="nb">test</span>/cases/associations/has_many_associations_test.rb
</code></pre>
<textarea class="clipboard-content" id="clipboard-9c3503190f15038ce4456ed90ddf06db">bundle exec rake TEST=test/cases/associations/has_many_associations_test.rb
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-9c3503190f15038ce4456ed90ddf06db">Copiar</button>
</div>
<p>You can invoke <code>test_jdbcmysql</code>, <code>test_jdbcsqlite3</code> or <code>test_jdbcpostgresql</code> also. See the file <code>activerecord/RUNNING_UNIT_TESTS.rdoc</code> for information on running more targeted database tests.</p><h4 id="warnings"><a class="anchorlink" href="#warnings">5.8 Warnings</a></h4><p>The test suite runs with warnings enabled. Ideally, Ruby on Rails should issue no warnings, but there may be a few, as well as some from third-party libraries. Please ignore (or fix!) them, if any, and submit patches that do not issue new warnings.</p><h4 id="updating-the-changelog"><a class="anchorlink" href="#updating-the-changelog">5.9 Updating the CHANGELOG</a></h4><p>The CHANGELOG is an important part of every release. It keeps the list of changes for every Rails version.</p><p>You should add an entry <strong>to the top</strong> of the CHANGELOG of the framework that you modified if you're adding or removing a feature, committing a bug fix, or adding deprecation notices. Refactorings and documentation changes generally should not go to the CHANGELOG.</p><p>A CHANGELOG entry should summarize what was changed and should end with the author's name. You can use multiple lines if you need more space and you can attach code examples indented with 4 spaces. If a change is related to a specific issue, you should attach the issue's number. Here is an example CHANGELOG entry:</p><div class="code_container">
<pre><code class="highlight plaintext">*   Summary of a change that briefly describes what was changed. You can use multiple
    lines and wrap them at around 80 characters. Code examples are ok, too, if needed:

        class Foo
          def bar
            puts 'baz'
          end
        end

    You can continue after the code example and you can attach issue number.

    Fixes #1234.

    *Your Name*
</code></pre>
<textarea class="clipboard-content" id="clipboard-cad9ad5cfa5c49f01588e4248ca7d7ff">*   Summary of a change that briefly describes what was changed. You can use multiple
    lines and wrap them at around 80 characters. Code examples are ok, too, if needed:

        class Foo
          def bar
            puts 'baz'
          end
        end

    You can continue after the code example and you can attach issue number.

    Fixes #1234.

    *Your Name*
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-cad9ad5cfa5c49f01588e4248ca7d7ff">Copiar</button>
</div>
<p>Your name can be added directly after the last word if there are no code
examples or multiple paragraphs. Otherwise, it's best to make a new paragraph.</p><h4 id="updating-the-gemfile-lock"><a class="anchorlink" href="#updating-the-gemfile-lock">5.10 Updating the Gemfile.lock</a></h4><p>Some changes require the dependencies to be upgraded. In these cases make sure you run <code>bundle update</code> to get the right version of the dependency and commit the <code>Gemfile.lock</code> file within your changes.</p><h4 id="commit-your-changes"><a class="anchorlink" href="#commit-your-changes">5.11 Commit Your Changes</a></h4><p>When you're happy with the code on your computer, you need to commit the changes to Git:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>commit <span class="nt">-a</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-b4f3b7acb36c4a5158e5eace3a6ace9b">git commit -a
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-b4f3b7acb36c4a5158e5eace3a6ace9b">Copiar</button>
</div>
<p>This should fire up your editor to write a commit message. When you have
finished, save and close to continue.</p><p>A well-formatted and descriptive commit message is very helpful to others for
understanding why the change was made, so please take the time to write it.</p><p>A good commit message looks like this:</p><div class="code_container">
<pre><code class="highlight plaintext">Short summary (ideally 50 characters or less)

More detailed description, if necessary. It should be wrapped to
72 characters. Try to be as descriptive as you can. Even if you
think that the commit content is obvious, it may not be obvious
to others. Add any description that is already present in the
relevant issues; it should not be necessary to visit a webpage
to check the history.

The description section can have multiple paragraphs.

Code examples can be embedded by indenting them with 4 spaces:

    class ArticlesController
      def index
        render json: Article.limit(10)
      end
    end

You can also add bullet points:

- make a bullet point by starting a line with either a dash (-)
  or an asterisk (*)

- wrap lines at 72 characters, and indent any additional lines
  with 2 spaces for readability
</code></pre>
<textarea class="clipboard-content" id="clipboard-26c0aed7bdae264c61395c35535ababf">Short summary (ideally 50 characters or less)

More detailed description, if necessary. It should be wrapped to
72 characters. Try to be as descriptive as you can. Even if you
think that the commit content is obvious, it may not be obvious
to others. Add any description that is already present in the
relevant issues; it should not be necessary to visit a webpage
to check the history.

The description section can have multiple paragraphs.

Code examples can be embedded by indenting them with 4 spaces:

    class ArticlesController
      def index
        render json: Article.limit(10)
      end
    end

You can also add bullet points:

- make a bullet point by starting a line with either a dash (-)
  or an asterisk (*)

- wrap lines at 72 characters, and indent any additional lines
  with 2 spaces for readability
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-26c0aed7bdae264c61395c35535ababf">Copiar</button>
</div>
<div class="info"><p>Please squash your commits into a single commit when appropriate. This
simplifies future cherry picks and keeps the git log clean.</p></div><h4 id="update-your-branch"><a class="anchorlink" href="#update-your-branch">5.12 Update Your Branch</a></h4><p>It's pretty likely that other changes to main have happened while you were working. Go get them:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>checkout main
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>pull <span class="nt">--rebase</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-d7e8bcfb34378e546fcb26dfb5f4e661">git checkout main
git pull --rebase
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-d7e8bcfb34378e546fcb26dfb5f4e661">Copiar</button>
</div>
<p>Now reapply your patch on top of the latest changes:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>checkout my_new_branch
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>rebase main
</code></pre>
<textarea class="clipboard-content" id="clipboard-832875f88f8efc2dec8e0a01a9faded9">git checkout my_new_branch
git rebase main
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-832875f88f8efc2dec8e0a01a9faded9">Copiar</button>
</div>
<p>No conflicts? Tests still pass? Change still seems reasonable to you? Then move on.</p><h4 id="fork"><a class="anchorlink" href="#fork">5.13 Fork</a></h4><p>Navigate to the Rails <a href="https://github.com/rails/rails">GitHub repository</a> and press "Fork" in the upper right hand corner.</p><p>Add the new remote to your local repository on your local machine:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>remote add fork https://github.com/&lt;your user name&gt;/rails.git
</code></pre>
<textarea class="clipboard-content" id="clipboard-7b93fb4e3d7c353398738f78a76d1993">git remote add fork https://github.com/&lt;your user name&gt;/rails.git
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-7b93fb4e3d7c353398738f78a76d1993">Copiar</button>
</div>
<p>You may have cloned your local repository from rails/rails or you may have cloned from your forked repository. To avoid ambiguity the following git commands assume that you have made a "rails" remote that points to rails/rails.</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>remote add <span class="nb">rails </span>https://github.com/rails/rails.git
</code></pre>
<textarea class="clipboard-content" id="clipboard-b9ff40d4cd9ae6b0926ff6438a276ec2">git remote add rails https://github.com/rails/rails.git
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-b9ff40d4cd9ae6b0926ff6438a276ec2">Copiar</button>
</div>
<p>Download new commits and branches from the official repository:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>fetch <span class="nb">rails</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-74eab2baddf08e71ea763a1abbc30ab8">git fetch rails
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-74eab2baddf08e71ea763a1abbc30ab8">Copiar</button>
</div>
<p>Merge the new content:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>checkout main
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>rebase <span class="nb">rails</span>/main
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>checkout my_new_branch
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>rebase <span class="nb">rails</span>/main
</code></pre>
<textarea class="clipboard-content" id="clipboard-f04a66b551d491e8f1127fc46119caa8">git checkout main
git rebase rails/main
git checkout my_new_branch
git rebase rails/main
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-f04a66b551d491e8f1127fc46119caa8">Copiar</button>
</div>
<p>Update your fork:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>push fork main
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>push fork my_new_branch
</code></pre>
<textarea class="clipboard-content" id="clipboard-900e6db89ae9fa4fcc9dc3943f8d360c">git push fork main
git push fork my_new_branch
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-900e6db89ae9fa4fcc9dc3943f8d360c">Copiar</button>
</div>
<h4 id="issue-a-pull-request"><a class="anchorlink" href="#issue-a-pull-request">5.14 Issue a Pull Request</a></h4><p>Navigate to the Rails repository you just pushed to (e.g.
<a href="https://github.com/your-user-name/rails">https://github.com/your-user-name/rails</a>) and click on "Pull Requests" seen in
the right panel. On the next page, press "New pull request" in the upper right
hand corner.</p><p>Click on "Edit", if you need to change the branches being compared (it compares
"main" by default) and press "Click to create a pull request for this
comparison".</p><p>Ensure the changesets you introduced are included. Fill in some details about
your potential patch including a meaningful title. When finished, press "Send
pull request". The Rails core team will be notified about your submission.</p><h4 id="get-some-feedback"><a class="anchorlink" href="#get-some-feedback">5.15 Get some Feedback</a></h4><p>Most pull requests will go through a few iterations before they get merged.
Different contributors will sometimes have different opinions, and often
patches will need to be revised before they can get merged.</p><p>Some contributors to Rails have email notifications from GitHub turned on, but
others do not. Furthermore, (almost) everyone who works on Rails is a
volunteer, and so it may take a few days for you to get your first feedback on
a pull request. Don't despair! Sometimes it's quick, sometimes it's slow. Such
is the open source life.</p><p>If it's been over a week, and you haven't heard anything, you might want to try
and nudge things along. You can use the <a href="https://discuss.rubyonrails.org/c/rubyonrails-core">rubyonrails-core mailing
list</a> for this. You can also
leave another comment on the pull request.</p><p>While you're waiting for feedback on your pull request, open up a few other
pull requests and give someone else some! I'm sure they'll appreciate it in
the same way that you appreciate feedback on your patches.</p><p>Note that your pull request may be marked as "Approved" by somebody who does not
have access to merge it. Further changes may still be required before members of
the core or committer teams accept it. To prevent confusion, when giving
feedback on someone else's pull request please avoid marking it as "Approved."</p><h4 id="iterate-as-necessary"><a class="anchorlink" href="#iterate-as-necessary">5.16 Iterate as Necessary</a></h4><p>It's entirely possible that the feedback you get will suggest changes. Don't get discouraged: the whole point of contributing to an active open source project is to tap into the knowledge of the community. If people are encouraging you to tweak your code, then it's worth making the tweaks and resubmitting. If the feedback is that your code doesn't belong in the core, you might still think about releasing it as a gem.</p><h5 id="squashing-commits"><a class="anchorlink" href="#squashing-commits">5.16.1 Squashing Commits</a></h5><p>One of the things that we may ask you to do is to "squash your commits", which
will combine all of your commits into a single commit. We prefer pull requests
that are a single commit. This makes it easier to backport changes to stable
branches, squashing makes it easier to revert bad commits, and the git history
can be a bit easier to follow. Rails is a large project, and a bunch of
extraneous commits can add a lot of noise.</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>fetch <span class="nb">rails</span>
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>checkout my_new_branch
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>rebase <span class="nt">-i</span> <span class="nb">rails</span>/main
<span class="go">
</span><span class="gp">&lt; Choose 'squash' for all of your commits except the first one. &gt;</span><span class="w">
</span><span class="gp">&lt; Edit the commit message to make sense, and describe all your changes. &gt;</span><span class="w">
</span><span class="go">
</span><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>push fork my_new_branch <span class="nt">--force-with-lease</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-48aaf72df4ee57de7165da342560d30e">git fetch rails
git checkout my_new_branch
git rebase -i rails/main
git push fork my_new_branch --force-with-lease
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-48aaf72df4ee57de7165da342560d30e">Copiar</button>
</div>
<p>You should be able to refresh the pull request on GitHub and see that it has
been updated.</p><h5 id="updating-a-pull-request"><a class="anchorlink" href="#updating-a-pull-request">5.16.2 Updating a Pull Request</a></h5><p>Sometimes you will be asked to make some changes to the code you have
already committed. This can include amending existing commits. In this
case Git will not allow you to push the changes as the pushed branch
and local branch do not match. Instead of opening a new pull request,
you can force push to your branch on GitHub as described earlier in
squashing commits section:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>push fork my_new_branch <span class="nt">--force-with-lease</span>
</code></pre>
<textarea class="clipboard-content" id="clipboard-d2eca5f09a521d7e109145b52bdb7315">git push fork my_new_branch --force-with-lease
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-d2eca5f09a521d7e109145b52bdb7315">Copiar</button>
</div>
<p>This will update the branch and pull request on GitHub with your new code.
By force pushing with <code>--force-with-lease</code>, git will more safely update
the remote than with a typical <code>-f</code>, which can delete work from the remote
that you don't already have.</p><h4 id="older-versions-of-ruby-on-rails"><a class="anchorlink" href="#older-versions-of-ruby-on-rails">5.17 Older Versions of Ruby on Rails</a></h4><p>If you want to add a fix to older versions of Ruby on Rails, you'll need to set up and switch to your own local tracking branch. Here is an example to switch to the 4-0-stable branch:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>branch <span class="nt">--track</span> 4-0-stable <span class="nb">rails</span>/4-0-stable
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>checkout 4-0-stable
</code></pre>
<textarea class="clipboard-content" id="clipboard-2730e4754ecb86928885ab966fb454de">git branch --track 4-0-stable rails/4-0-stable
git checkout 4-0-stable
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-2730e4754ecb86928885ab966fb454de">Copiar</button>
</div>
<div class="info"><p>You may want to <a href="http://qugstart.com/blog/git-and-svn/add-colored-git-branch-name-to-your-shell-prompt/">put your Git branch name in your shell prompt</a> to make it easier to remember which version of the code you're working with.</p></div><div class="note"><p>Before working on older versions, please check the <a href="maintenance_policy.html">maintenance policy</a>.</p></div><h5 id="backporting"><a class="anchorlink" href="#backporting">5.17.1 Backporting</a></h5><p>Changes that are merged into main are intended for the next major release of Rails. Sometimes, it might be beneficial for your changes to propagate back to the maintenance releases for older stable branches. Generally, security fixes and bug fixes are good candidates for a backport, while new features and patches that introduce a change in behavior will not be accepted. When in doubt, it is best to consult a Rails team member before backporting your changes to avoid wasted effort.</p><p>For simple fixes, the easiest way to backport your changes is to <a href="https://www.devroom.io/2009/10/26/how-to-create-and-apply-a-patch-with-git/">extract a diff from your changes in main and apply them to the target branch</a>.</p><p>First, make sure your changes are the only difference between your current branch and main:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>log main..HEAD
</code></pre>
<textarea class="clipboard-content" id="clipboard-e2258f01147ac0948e1751ae8531de60">git log main..HEAD
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-e2258f01147ac0948e1751ae8531de60">Copiar</button>
</div>
<p>Then extract the diff:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>format-patch main <span class="nt">--stdout</span> <span class="o">&gt;</span> ~/my_changes.patch
</code></pre>
<textarea class="clipboard-content" id="clipboard-7ac3fad8b08e175f5a0d0805a1265b98">git format-patch main --stdout &gt; ~/my_changes.patch
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-7ac3fad8b08e175f5a0d0805a1265b98">Copiar</button>
</div>
<p>Switch over to the target branch and apply your changes:</p><div class="code_container">
<pre><code class="highlight console"><span class="gp">$</span><span class="w"> </span><span class="nb">git </span>checkout <span class="nt">-b</span> my_backport_branch 4-2-stable
<span class="gp">$</span><span class="w"> </span><span class="nb">git </span>apply ~/my_changes.patch
</code></pre>
<textarea class="clipboard-content" id="clipboard-58dfaaacd4900f0692a3a9d2653391f1">git checkout -b my_backport_branch 4-2-stable
git apply ~/my_changes.patch
</textarea>
<button class="clipboard-button" data-clipboard-target="#clipboard-58dfaaacd4900f0692a3a9d2653391f1">Copiar</button>
</div>
<p>This works well for simple changes. However, if your changes are complicated or if the code in main has deviated significantly from your target branch, it might require more work on your part. The difficulty of a backport varies greatly from case to case, and sometimes it is simply not worth the effort.</p><p>Once you have resolved all conflicts and made sure all the tests are passing, push your changes and open a separate pull request for your backport. It is also worth noting that older branches might have a different set of build targets than main. When possible, it is best to first test your backport locally against the oldest Ruby version permitted by the target branch's <code>rails.gemspec</code> before submitting your pull request.</p><p>And then... think about your next contribution!</p><h3 id="contribuintes-do-rails"><a class="anchorlink" href="#contribuintes-do-rails">6 Contribuintes do Rails</a></h3><p>Todas as contribuições recebem crédito em <a href="https://contributors.rubyonrails.org">Contribuintes do Rails</a>.</p>

        <h3>Feedback</h3>
        <p>
          Você é incentivado a ajudar a melhorar a qualidade deste guia.
        </p>
        <p>
          Por favor, contribua caso veja quaisquer erros, inclusive erros de digitação.
          Para começar, você pode ler nossa sessão de <a href="https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation">contribuindo com a documentação</a>.
        </p>
        <p>
          Você também pode encontrar conteúdo incompleto ou coisas que não estão atualizadas.
          Por favor, adicione qualquer documentação em falta na main do Rails. Certifique-se de checar o
          <a href="http://edgeguides.rubyonrails.org">Edge Guides (en-US)</a> primeiro para verificar
          se o problema já foi resolvido ou não no branch main.
          Verifique as <a href="ruby_on_rails_guides_guidelines.html">Diretrizes do Guia Ruby on Rails</a>
          para estilo e convenções.
        </p>
        <p>
          Se, por qualquer motivo, você encontrar algo para consertar, mas não conseguir consertá-lo, por favor
          <a href="https://github.com/campuscode/rails-guides-pt-BR/issues">abra uma issue no nosso Guia</a>.
        </p>
        <p>
          E por último, mas não menos importante, qualquer tipo de discussão sobre a documentação do Ruby on Rails
          é muito bem vinda na <a href="https://discuss.rubyonrails.org/c/rubyonrails-docs">lista de discussão rubyonrails-docs</a> e nas
          <a href="https://github.com/campuscode/rails-guides-pt-BR/issues">issues do Guia em português</a>.
        </p>
      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <p> Este projeto está licenciado sob uma licença <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a></p>
<p>"Rails", "Ruby on Rails", e o logotipo Rails são marcas comerciais de David Heinemeier Hansson. Todos os direitos reservados.</p>

    </div>
  </div>
  <div id="toggle">
    <img alt="dark theme icon" class="icon">
  </div>
</body>
</html>
